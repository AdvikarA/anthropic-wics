"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/news/route";
exports.ids = ["app/api/news/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnews%2Froute&page=%2Fapi%2Fnews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnews%2Froute.ts&appDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnews%2Froute&page=%2Fapi%2Fnews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnews%2Froute.ts&appDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ananthkumara_CS_anthropic_wics_src_app_api_news_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/news/route.ts */ \"(rsc)/./src/app/api/news/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/news/route\",\n        pathname: \"/api/news\",\n        filename: \"route\",\n        bundlePath: \"app/api/news/route\"\n    },\n    resolvedPagePath: \"/Users/ananthkumara/CS/anthropic-wics/src/app/api/news/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ananthkumara_CS_anthropic_wics_src_app_api_news_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/news/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZuZXdzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZuZXdzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbmV3cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFuYW50aGt1bWFyYSUyRkNTJTJGYW50aHJvcGljLXdpY3MlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYW5hbnRoa3VtYXJhJTJGQ1MlMkZhbnRocm9waWMtd2ljcyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV3cy1haS8/MTQzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYW5hbnRoa3VtYXJhL0NTL2FudGhyb3BpYy13aWNzL3NyYy9hcHAvYXBpL25ld3Mvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL25ld3Mvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9uZXdzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9uZXdzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FuYW50aGt1bWFyYS9DUy9hbnRocm9waWMtd2ljcy9zcmMvYXBwL2FwaS9uZXdzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL25ld3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnews%2Froute&page=%2Fapi%2Fnews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnews%2Froute.ts&appDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/news/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/news/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @anthropic-ai/sdk */ \"(rsc)/./node_modules/@anthropic-ai/sdk/index.mjs\");\n\n\n\n// Initialize APIs\nconst NEWS_API_KEY = process.env.NEWS_API_KEY || \"\";\nconst NEWS_API_BASE_URL = \"https://newsapi.org/v2\";\nif (!NEWS_API_KEY) {\n    console.error(\"NEWS_API_KEY environment variable is not set\");\n}\nconst anthropic = new _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_1__.Anthropic({\n    apiKey: process.env.ANTHROPIC_API_KEY\n});\nasync function GET(request) {\n    // Variable to track if we need to clean up a timeout\n    let timeoutId = null;\n    const clearTimeoutFn = ()=>{\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n        }\n    };\n    try {\n        // Check for a refresh query parameter to determine if we should fetch new data\n        const url = new URL(request.url);\n        const shouldRefresh = url.searchParams.get(\"refresh\") === \"true\";\n        if (!shouldRefresh) {\n            console.log(\"No refresh parameter found, returning empty news stories\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                newsStories: [],\n                timestamp: new Date().toISOString()\n            }, {\n                status: 200\n            });\n        }\n        console.log(\"Refresh parameter found, fetching news...\");\n        // Try to import the Supabase service to fetch news stories\n        let getNewsStories = null;\n        let saveNewsStory = null;\n        try {\n            const supabaseService = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@supabase\"), __webpack_require__.e(\"_rsc_src_lib_supabase-service_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-service */ \"(rsc)/./src/lib/supabase-service.ts\"));\n            getNewsStories = supabaseService.getNewsStories;\n            saveNewsStory = supabaseService.saveNewsStory;\n            // If there are stories in Supabase, return them\n            if (typeof getNewsStories === \"function\") {\n                try {\n                    const existingStories = await getNewsStories();\n                    if (existingStories && existingStories.length > 0) {\n                        console.log(`Found ${existingStories.length} existing stories in Supabase`);\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            newsStories: existingStories,\n                            timestamp: new Date().toISOString()\n                        }, {\n                            status: 200\n                        });\n                    }\n                } catch (dbError) {\n                    console.error(\"Error fetching from Supabase:\", dbError);\n                // Continue to fallback if Supabase fails\n                }\n            }\n        } catch (importError) {\n            console.error(\"Error importing Supabase service:\", importError);\n        // Continue to fallback if import fails\n        }\n        if (!shouldRefresh) {\n            console.log(\"No refresh parameter found, returning empty news stories\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                newsStories: [],\n                timestamp: new Date().toISOString()\n            }, {\n                status: 200\n            });\n        }\n        console.log(\"Refresh parameter found, fetching from NewsAPI...\");\n        // Set a timeout for the entire request\n        const requestTimeout = 60000; // 60 seconds\n        // Create a promise that rejects after the timeout\n        const timeoutPromise = new Promise((_, reject)=>{\n            timeoutId = setTimeout(()=>{\n                reject(new Error(\"Request timed out after 60 seconds\"));\n            }, requestTimeout);\n        });\n        console.log(\"Fetching news from NewsAPI...\");\n        console.log(\"Using NewsAPI key:\", NEWS_API_KEY ? \"Key is set\" : \"Key is NOT set\");\n        // First, collect all articles from different sources\n        let allArticles = [];\n        // Fetch news from multiple sources with emphasis on US and political sources\n        const sources = [\n            \"cnn\",\n            \"fox-news\",\n            \"the-washington-post\",\n            \"politico\",\n            \"nbc-news\",\n            \"abc-news\",\n            \"bbc-news\",\n            \"reuters\",\n            \"associated-press\",\n            \"bloomberg\",\n            \"the-wall-street-journal\"\n        ];\n        // Fetch top headlines from each source\n        for (const source of sources){\n            try {\n                console.log(`Fetching headlines from ${source}...`);\n                const sourceUrl = `${NEWS_API_BASE_URL}/top-headlines?sources=${source}&pageSize=10&apiKey=${NEWS_API_KEY}`;\n                // Configure axios with proper timeout and no signal\n                const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(sourceUrl, {\n                    timeout: 10000,\n                    headers: {\n                        \"Cache-Control\": \"no-cache\"\n                    }\n                });\n                const data = response.data;\n                if (data.articles && data.articles.length > 0) {\n                    console.log(`Got ${data.articles.length} articles from ${source}`);\n                    // Add source info to each article\n                    data.articles.forEach((article)=>{\n                        if (article.title && article.url) {\n                            // Extract keywords from title and description\n                            const keywords = extractKeywords(article.title + \" \" + (article.description || \"\"));\n                            // Analyze bias in the article\n                            const biasAnalysis = analyzeArticleBias(article.title, article.description || \"\", article.content || \"\");\n                            // Debug the bias analysis results\n                            console.log(`Bias analysis for ${source}:`, {\n                                title: article.title.substring(0, 30) + \"...\",\n                                bias: biasAnalysis.bias,\n                                quoteCount: biasAnalysis.biasQuotes.length,\n                                sampleQuote: biasAnalysis.biasQuotes[0]?.substring(0, 50) + \"...\"\n                            });\n                            allArticles.push({\n                                ...article,\n                                sourceId: source,\n                                keywords: keywords,\n                                bias: biasAnalysis.bias,\n                                biasQuotes: biasAnalysis.biasQuotes\n                            });\n                        }\n                    });\n                }\n            } catch (error) {\n                console.error(`Error fetching from ${source}:`, error);\n            }\n        }\n        console.log(`Collected ${allArticles.length} total articles from all sources`);\n        // If no articles were collected, return empty array instead of using fallback data\n        if (allArticles.length === 0) {\n            console.log(\"No articles collected, likely due to rate limiting.\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                newsStories: [],\n                timestamp: new Date().toISOString(),\n                error: \"Rate limit exceeded or no articles available\"\n            }, {\n                status: 200\n            });\n        }\n        // Group similar articles together\n        const newsEvents = [];\n        for (const article of allArticles){\n            let foundMatch = false;\n            // Check if this article belongs to an existing event\n            for (const event of newsEvents){\n                if (event.articles.some((existingArticle)=>areArticlesSimilar(existingArticle, article))) {\n                    // Check if this source is already in the event\n                    const sourceExists = event.articles.some((existingArticle)=>existingArticle.source?.name === article.source?.name);\n                    // Only add if it's from a different source\n                    if (!sourceExists) {\n                        event.articles.push(article);\n                    }\n                    foundMatch = true;\n                    break;\n                }\n            }\n            // If no match found, create a new event\n            if (!foundMatch) {\n                newsEvents.push({\n                    articles: [\n                        article\n                    ],\n                    category: determineNewsCategory(article.title, article.description, extractKeywords(article.title + \" \" + article.description))\n                });\n            }\n        }\n        // Process the events to create news stories\n        const newsStories = [];\n        // Process events with at least 3 sources (for better comparison)\n        const multiSourceEvents = newsEvents.filter((event)=>event.articles.length >= 3);\n        console.log(`Found ${multiSourceEvents.length} events with at least 3 sources`);\n        // If not enough multi-source events, include some with fewer sources\n        const eventsToProcess = multiSourceEvents.length >= 5 ? multiSourceEvents.slice(0, 10) : [\n            ...multiSourceEvents,\n            ...newsEvents.filter((event)=>event.articles.length >= 2).slice(0, 10 - multiSourceEvents.length)\n        ];\n        console.log(`Processing ${eventsToProcess.length} news events`);\n        // Process each event to create a news story\n        for (const event of eventsToProcess){\n            // Use the most detailed article as the main one\n            const mainArticle = event.articles.reduce((best, current)=>{\n                const bestLength = (best.content?.length || 0) + (best.description?.length || 0);\n                const currentLength = (current.content?.length || 0) + (current.description?.length || 0);\n                return currentLength > bestLength ? current : best;\n            }, event.articles[0]);\n            // Create sources list\n            const sources = event.articles.map((article)=>({\n                    title: article.title,\n                    source: article.source?.name || article.sourceId,\n                    link: article.url\n                }));\n            // Generate a summary and extract common facts and unique claims\n            let summary = mainArticle.description || \"\";\n            let commonFacts = \"\";\n            const uniqueClaims = [];\n            // Process source bias information\n            const sourceBiasInfo = [];\n            // Debug log to check if articles have bias information\n            console.log(\"Checking for bias in articles:\", event.articles.length, \"articles\");\n            for (const article of event.articles){\n                // Debug log for each article\n                console.log(\"Article source:\", article.source?.name || article.sourceId);\n                console.log(\"Has bias info:\", !!article.bias, \"Has bias quotes:\", !!(article.biasQuotes && article.biasQuotes.length > 0));\n                if (article.sourceId && article.bias && article.biasQuotes && article.biasQuotes.length > 0) {\n                    // Find the source name from the article\n                    const sourceName = article.source?.name || article.sourceId;\n                    // Add to source bias info if not already added\n                    if (!sourceBiasInfo.some((sb)=>sb.source === sourceName)) {\n                        sourceBiasInfo.push({\n                            source: sourceName,\n                            bias: article.bias,\n                            biasQuotes: article.biasQuotes\n                        });\n                        console.log(\"Added bias info for source:\", sourceName, \"with bias:\", article.bias, \"and quotes:\", article.biasQuotes.length);\n                    }\n                }\n            }\n            // Log the final sourceBiasInfo\n            console.log(\"Total sources with bias info:\", sourceBiasInfo.length);\n            // Add to news stories\n            const newsStory = {\n                headline: mainArticle.title,\n                summary: summary,\n                sources: sources,\n                publishedAt: mainArticle.publishedAt,\n                mainKeywords: mainArticle.keywords,\n                category: event.category,\n                commonFacts: commonFacts,\n                uniqueClaims: uniqueClaims,\n                sourceBias: sourceBiasInfo\n            };\n            newsStories.push(newsStory);\n            // Save to Supabase if the function is available\n            if (typeof saveNewsStory === \"function\") {\n                try {\n                    await saveNewsStory(newsStory);\n                    console.log(`Saved story to Supabase: ${mainArticle.title.substring(0, 30)}...`);\n                } catch (saveError) {\n                    console.error(\"Error saving to Supabase:\", saveError);\n                }\n            } else {\n                console.log(\"Skipping Supabase save - saveNewsStory function not available\");\n            }\n        }\n        // Return the news stories\n        clearTimeoutFn(); // Clear the timeout before returning\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            newsStories,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        // Clear the timeout if there was an error\n        try {\n            // Only clear timeout if we're in the NewsAPI fetch path\n            if (typeof clearTimeoutFn === \"function\") {\n                clearTimeoutFn();\n            }\n        } catch (e) {\n        // Ignore errors in cleanup\n        }\n        console.error(\"Error in News API:\", error);\n        // Return a more detailed error message\n        const errorMessage = error instanceof Error ? error.message : \"Failed to fetch news\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: errorMessage,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n// Helper functions (copied from original file)\nfunction extractKeywords(text) {\n    if (!text) return [];\n    // Remove common stop words\n    const stopWords = [\n        \"a\",\n        \"an\",\n        \"the\",\n        \"and\",\n        \"or\",\n        \"but\",\n        \"is\",\n        \"are\",\n        \"was\",\n        \"were\",\n        \"be\",\n        \"been\",\n        \"being\",\n        \"in\",\n        \"on\",\n        \"at\",\n        \"to\",\n        \"for\",\n        \"with\",\n        \"by\",\n        \"about\",\n        \"against\",\n        \"between\",\n        \"into\",\n        \"through\",\n        \"during\",\n        \"before\",\n        \"after\",\n        \"above\",\n        \"below\",\n        \"from\",\n        \"up\",\n        \"down\",\n        \"of\",\n        \"off\",\n        \"over\",\n        \"under\",\n        \"again\",\n        \"further\",\n        \"then\",\n        \"once\",\n        \"here\",\n        \"there\",\n        \"when\",\n        \"where\",\n        \"why\",\n        \"how\",\n        \"all\",\n        \"any\",\n        \"both\",\n        \"each\",\n        \"few\",\n        \"more\",\n        \"most\",\n        \"other\",\n        \"some\",\n        \"such\",\n        \"no\",\n        \"nor\",\n        \"not\",\n        \"only\",\n        \"own\",\n        \"same\",\n        \"so\",\n        \"than\",\n        \"too\",\n        \"very\",\n        \"s\",\n        \"t\",\n        \"can\",\n        \"will\",\n        \"just\",\n        \"don\",\n        \"should\",\n        \"now\"\n    ];\n    // Normalize text\n    const normalizedText = text.toLowerCase().replace(/[^\\w\\s]/g, \"\") // Remove punctuation\n    .replace(/\\s+/g, \" \"); // Normalize whitespace\n    // Split into words and filter\n    const words = normalizedText.split(\" \").filter((word)=>word.length > 3 && !stopWords.includes(word));\n    // Count word frequencies\n    const wordCounts = {};\n    for (const word of words){\n        wordCounts[word] = (wordCounts[word] || 0) + 1;\n    }\n    // Sort by frequency\n    const sortedWords = Object.keys(wordCounts).sort((a, b)=>wordCounts[b] - wordCounts[a]);\n    // Return top keywords (up to 10)\n    return sortedWords.slice(0, 10);\n}\n// Helper function to analyze article bias and extract relevant quotes\nfunction analyzeArticleBias(title, description, content) {\n    // Combine all text for analysis\n    const fullText = [\n        title,\n        description,\n        content\n    ].filter(Boolean).join(\" \");\n    // Initialize result\n    const result = {\n        bias: \"unknown\",\n        biasQuotes: []\n    };\n    // Define bias indicators - expanded for better detection\n    const leftBiasTerms = [\n        \"progressive\",\n        \"liberal\",\n        \"democrat\",\n        \"social justice\",\n        \"equality\",\n        \"climate change\",\n        \"green\",\n        \"environmental\",\n        \"diversity\",\n        \"inclusion\",\n        \"marginalized\",\n        \"systemic\",\n        \"reform\",\n        \"regulation\",\n        \"workers\",\n        \"union\",\n        \"universal healthcare\",\n        \"gun control\",\n        \"reproductive rights\",\n        \"welfare\",\n        \"public option\",\n        \"medicare for all\",\n        \"wealth tax\",\n        \"income inequality\",\n        \"living wage\",\n        \"affordable housing\",\n        \"student loan forgiveness\",\n        \"police reform\",\n        \"defund\",\n        \"progressive\",\n        \"racial justice\",\n        \"gender equality\",\n        \"LGBTQ+\",\n        \"transgender\",\n        \"pronouns\",\n        \"privilege\",\n        \"structural racism\",\n        \"equity\",\n        \"affirmative action\",\n        \"reparations\"\n    ];\n    const rightBiasTerms = [\n        \"conservative\",\n        \"republican\",\n        \"traditional\",\n        \"freedom\",\n        \"liberty\",\n        \"patriot\",\n        \"america first\",\n        \"free market\",\n        \"deregulation\",\n        \"tax cuts\",\n        \"small government\",\n        \"second amendment\",\n        \"pro-life\",\n        \"border security\",\n        \"illegal immigration\",\n        \"law and order\",\n        \"family values\",\n        \"religious liberty\",\n        \"constitutional\",\n        \"founding fathers\",\n        \"heritage\",\n        \"individual responsibility\",\n        \"school choice\",\n        \"tough on crime\",\n        \"national security\",\n        \"military strength\",\n        \"fiscal responsibility\",\n        \"private sector\",\n        \"job creators\",\n        \"limited government\",\n        \"states rights\",\n        \"voter ID\",\n        \"traditional marriage\",\n        \"sanctity of life\",\n        \"american exceptionalism\",\n        \"patriotism\"\n    ];\n    // Count bias indicators\n    let leftCount = 0;\n    let rightCount = 0;\n    // Extract sentences that might contain bias\n    const sentences = fullText.split(/[.!?]\\s+/);\n    const biasQuotes = [];\n    for (const sentence of sentences){\n        let leftTermsInSentence = 0;\n        let rightTermsInSentence = 0;\n        // Check for left-leaning terms\n        for (const term of leftBiasTerms){\n            if (sentence.toLowerCase().includes(term.toLowerCase())) {\n                leftCount++;\n                leftTermsInSentence++;\n            }\n        }\n        // Check for right-leaning terms\n        for (const term of rightBiasTerms){\n            if (sentence.toLowerCase().includes(term.toLowerCase())) {\n                rightCount++;\n                rightTermsInSentence++;\n            }\n        }\n        // If sentence contains bias terms, add it to quotes\n        if (leftTermsInSentence > 0 || rightTermsInSentence > 0) {\n            // Only add if the sentence is of reasonable length and not already included\n            if (sentence.length > 20 && sentence.length < 300 && !biasQuotes.includes(sentence)) {\n                biasQuotes.push(sentence.trim() + \".\");\n            }\n        }\n    }\n    // If we don't have enough bias quotes, add some general sentences from the article\n    if (biasQuotes.length < 2 && sentences.length > 0) {\n        // Find substantive sentences that might represent the article's perspective\n        for (const sentence of sentences){\n            if (sentence.length > 40 && sentence.length < 250 && !biasQuotes.includes(sentence)) {\n                // Look for sentences with opinion indicators or attributions\n                if (sentence.toLowerCase().includes(\"according to\") || sentence.toLowerCase().includes(\"said\") || sentence.toLowerCase().includes(\"stated\") || sentence.toLowerCase().includes(\"believes\") || sentence.toLowerCase().includes(\"argues\") || sentence.toLowerCase().includes(\"claims\") || sentence.toLowerCase().includes(\"suggests\") || sentence.toLowerCase().includes(\"indicates\")) {\n                    biasQuotes.push(sentence.trim() + \".\");\n                    if (biasQuotes.length >= 3) break;\n                }\n            }\n        }\n    }\n    // If we still don't have enough quotes, add some substantive sentences from the article\n    if (biasQuotes.length < 2 && sentences.length > 0) {\n        // Sort sentences by length (prefer longer, more substantive sentences)\n        const sortedSentences = [\n            ...sentences\n        ].filter((s)=>s.length > 30 && s.length < 250).sort((a, b)=>b.length - a.length);\n        // Take the top sentences that aren't already in biasQuotes\n        for (const sentence of sortedSentences){\n            if (!biasQuotes.includes(sentence)) {\n                biasQuotes.push(sentence.trim() + \".\");\n                if (biasQuotes.length >= 3) break;\n            }\n        }\n    }\n    // Determine overall bias based on term counts\n    if (leftCount > rightCount * 1.5) {\n        result.bias = \"left\";\n    } else if (rightCount > leftCount * 1.5) {\n        result.bias = \"right\";\n    } else if (leftCount > 0 || rightCount > 0) {\n        result.bias = \"center\";\n    } else {\n        // If no clear bias terms, default to center\n        result.bias = \"center\";\n    }\n    // Limit to top 3 quotes\n    result.biasQuotes = biasQuotes.slice(0, 3);\n    return result;\n}\n// Helper function to determine news category\nfunction determineNewsCategory(title, description, keywords) {\n    const text = (title + \" \" + description).toLowerCase();\n    const allText = text + \" \" + keywords.join(\" \").toLowerCase();\n    // Check for US news\n    if (/\\b(us|united states|america|american|washington|biden|trump|congress|senate|house|white house)\\b/.test(allText)) {\n        return \"us\";\n    }\n    // Check for politics\n    if (/\\b(politic|election|vote|democrat|republican|congress|senate|house|president|administration|government|law|supreme court|bill|legislation)\\b/.test(allText)) {\n        return \"politics\";\n    }\n    // Check for world news\n    if (/\\b(world|global|international|europe|asia|africa|middle east|china|russia|ukraine|foreign|diplomatic|un|united nations)\\b/.test(allText)) {\n        return \"world\";\n    }\n    // Check for business/economy\n    if (/\\b(business|economy|economic|market|stock|finance|trade|company|corporate|inflation|recession|fed|federal reserve)\\b/.test(allText)) {\n        return \"business\";\n    }\n    // Check for technology\n    if (/\\b(tech|technology|digital|software|hardware|app|internet|cyber|ai|artificial intelligence|robot|innovation|startup)\\b/.test(allText)) {\n        return \"technology\";\n    }\n    // Check for health\n    if (/\\b(health|medical|medicine|disease|virus|pandemic|doctor|hospital|patient|covid|vaccine|healthcare)\\b/.test(allText)) {\n        return \"health\";\n    }\n    // Check for science\n    if (/\\b(science|scientific|research|study|discovery|space|nasa|physics|biology|chemistry|climate|environment)\\b/.test(allText)) {\n        return \"science\";\n    }\n    // Check for sports\n    if (/\\b(sport|game|match|team|player|championship|tournament|olympic|football|soccer|basketball|baseball|tennis|nfl|nba|mlb)\\b/.test(allText)) {\n        return \"sports\";\n    }\n    // Check for entertainment\n    if (/\\b(entertainment|movie|film|tv|television|show|celebrity|actor|actress|music|artist|concert|hollywood)\\b/.test(allText)) {\n        return \"entertainment\";\n    }\n    // Check for social/lifestyle\n    if (/\\b(social|lifestyle|fashion|food|travel|celebrity|trend)\\b/.test(allText)) {\n        return \"social\";\n    }\n    // Default to 'other' if no category matches\n    return \"other\";\n}\n// Helper function to check if two articles are about the same story\nfunction areArticlesSimilar(article1, article2) {\n    // If titles are very similar, they're likely about the same story\n    const titleSimilarity = calculateTitleSimilarity(article1.title, article2.title);\n    if (titleSimilarity > 0.7) {\n        return true;\n    }\n    // Check for shared entities\n    const entities1 = extractNamedEntities(article1.title + \" \" + (article1.description || \"\"));\n    const entities2 = extractNamedEntities(article2.title + \" \" + (article2.description || \"\"));\n    // Count shared entities\n    let sharedEntities = 0;\n    for (const entity of entities1){\n        if (entities2.includes(entity)) {\n            sharedEntities++;\n        }\n    }\n    // If they share multiple entities, they're likely about the same story\n    if (sharedEntities >= 2) {\n        return true;\n    }\n    // Check for keyword overlap\n    const keywords1 = article1.keywords || [];\n    const keywords2 = article2.keywords || [];\n    let sharedKeywords = 0;\n    for (const keyword of keywords1){\n        if (keywords2.includes(keyword)) {\n            sharedKeywords++;\n        }\n    }\n    // If they share multiple keywords, they might be about the same story\n    if (sharedKeywords >= 3) {\n        return true;\n    }\n    return false;\n}\n// Helper function to calculate title similarity\nfunction calculateTitleSimilarity(title1, title2) {\n    // Normalize titles\n    const normalize = (text)=>{\n        return text.toLowerCase().replace(/[^\\w\\s]/g, \"\") // Remove punctuation\n        .replace(/\\s+/g, \" \") // Normalize whitespace\n        .trim();\n    };\n    const normalizedTitle1 = normalize(title1);\n    const normalizedTitle2 = normalize(title2);\n    // Split into words\n    const words1 = normalizedTitle1.split(\" \");\n    const words2 = normalizedTitle2.split(\" \");\n    // Count shared words\n    let sharedWords = 0;\n    for (const word of words1){\n        if (word.length > 3 && words2.includes(word)) {\n            sharedWords++;\n        }\n    }\n    // Calculate Jaccard similarity\n    const uniqueWords = new Set([\n        ...words1,\n        ...words2\n    ]);\n    return sharedWords / uniqueWords.size;\n}\n// Helper function to extract named entities\nfunction extractNamedEntities(text) {\n    // This is a simplified version that looks for capitalized words\n    // In a real implementation, you'd use a NLP library\n    const entities = [];\n    const words = text.split(/\\s+/);\n    // Look for capitalized words that aren't at the start of sentences\n    for(let i = 1; i < words.length; i++){\n        const word = words[i].replace(/[^\\w]/g, \"\"); // Remove punctuation\n        if (word.length > 1 && /^[A-Z]/.test(word)) {\n            // Check if it's part of a multi-word entity\n            let entity = word;\n            let j = i + 1;\n            // Continue adding capitalized words to the entity\n            while(j < words.length){\n                const nextWord = words[j].replace(/[^\\w]/g, \"\");\n                if (nextWord.length > 1 && /^[A-Z]/.test(nextWord)) {\n                    entity += \" \" + nextWord;\n                    j++;\n                } else {\n                    break;\n                }\n            }\n            entities.push(entity);\n            i = j - 1; // Skip the words we've already included\n        }\n    }\n    // Also look for words at the start of sentences that might be entities\n    if (words.length > 0) {\n        const firstWord = words[0].replace(/[^\\w]/g, \"\");\n        if (firstWord.length > 1 && /^[A-Z]/.test(firstWord) && !/^(The|A|An|This|That|These|Those|It|He|She|They|We|I)$/i.test(firstWord)) {\n            entities.push(firstWord);\n        }\n    }\n    // Return unique entities\n    return Array.from(new Set(entities));\n}\n// Function to generate fallback news articles when API is rate limited\nfunction generateFallbackArticles() {\n    const fallbackArticles = [\n        {\n            title: \"Global Climate Summit Reaches Historic Agreement\",\n            description: \"World leaders have agreed to ambitious new targets to reduce carbon emissions by 2030.\",\n            content: \"In a landmark decision, representatives from 195 countries have committed to cutting carbon emissions by 50% before the end of the decade. The agreement, which follows two weeks of intense negotiations, has been hailed as a breakthrough in the fight against climate change. Environmental activists have welcomed the news but warn that implementation will be key.\",\n            source: {\n                name: \"Reuters\"\n            },\n            sourceId: \"reuters\",\n            url: \"https://example.com/climate-summit\",\n            publishedAt: new Date().toISOString(),\n            keywords: [\n                \"climate\",\n                \"emissions\",\n                \"agreement\",\n                \"global\",\n                \"summit\",\n                \"carbon\",\n                \"environment\",\n                \"targets\"\n            ],\n            bias: \"center\",\n            biasQuotes: [\n                \"The agreement represents a balanced approach to addressing climate challenges while considering economic realities.\",\n                \"Both progressive and conservative leaders have expressed cautious optimism about the framework.\",\n                \"The summit managed to bridge divides between developing and industrialized nations.\"\n            ]\n        },\n        {\n            title: \"New Economic Policy Aims to Reduce Inflation\",\n            description: \"The Federal Reserve announced a series of measures to tackle rising consumer prices.\",\n            content: \"The Federal Reserve has unveiled a comprehensive strategy to combat inflation, which has reached its highest level in four decades. The plan includes a 0.5% interest rate hike, the largest single increase since 2000, and a reduction in the Fed's bond holdings. Economists are divided on whether these measures will be sufficient to curb inflation without triggering a recession.\",\n            source: {\n                name: \"Bloomberg\"\n            },\n            sourceId: \"bloomberg\",\n            url: \"https://example.com/fed-inflation\",\n            publishedAt: new Date().toISOString(),\n            keywords: [\n                \"economy\",\n                \"inflation\",\n                \"federal\",\n                \"reserve\",\n                \"interest\",\n                \"rates\",\n                \"policy\",\n                \"recession\"\n            ],\n            bias: \"center\",\n            biasQuotes: [\n                \"The Federal Reserve is walking a tightrope between controlling inflation and avoiding economic downturn.\",\n                \"Analysts from across the political spectrum acknowledge the difficulty of the current economic situation.\",\n                \"The policy represents a middle path between more aggressive and more cautious approaches.\"\n            ]\n        },\n        {\n            title: \"Healthcare Reform Bill Passes Senate\",\n            description: \"Landmark legislation expands coverage to millions of Americans.\",\n            content: \"After months of debate, the Senate has passed a sweeping healthcare reform bill that would extend medical coverage to an estimated 15 million currently uninsured Americans. The legislation includes provisions for lowering prescription drug prices and expanding subsidies for low-income families. The bill now moves to the House, where it faces a more challenging path to approval.\",\n            source: {\n                name: \"Washington Post\"\n            },\n            sourceId: \"the-washington-post\",\n            url: \"https://example.com/healthcare-bill\",\n            publishedAt: new Date().toISOString(),\n            keywords: [\n                \"healthcare\",\n                \"reform\",\n                \"senate\",\n                \"coverage\",\n                \"legislation\",\n                \"insurance\",\n                \"medical\",\n                \"bill\"\n            ],\n            bias: \"left\",\n            biasQuotes: [\n                \"The historic bill represents a step toward universal healthcare that many progressive advocates have long championed.\",\n                \"Supporters emphasize the moral imperative of ensuring all Americans have access to affordable healthcare.\",\n                \"The legislation addresses systemic inequalities in the current healthcare system that disproportionately affect marginalized communities.\"\n            ]\n        },\n        {\n            title: \"Tax Cut Package Proposed to Stimulate Economic Growth\",\n            description: \"Republican lawmakers unveil plan to reduce corporate and individual tax rates.\",\n            content: \"A group of Republican senators has introduced a comprehensive tax reform package that would significantly reduce rates for both corporations and individuals. Proponents argue the cuts will spur investment, create jobs, and boost economic growth. Critics contend the plan would primarily benefit wealthy Americans and increase the national deficit. The Congressional Budget Office is expected to release its analysis of the proposal next week.\",\n            source: {\n                name: \"Fox News\"\n            },\n            sourceId: \"fox-news\",\n            url: \"https://example.com/tax-cuts\",\n            publishedAt: new Date().toISOString(),\n            keywords: [\n                \"tax\",\n                \"cuts\",\n                \"economic\",\n                \"growth\",\n                \"republican\",\n                \"deficit\",\n                \"corporate\",\n                \"reform\"\n            ],\n            bias: \"right\",\n            biasQuotes: [\n                \"The tax cuts represent a commitment to free market principles and economic liberty.\",\n                \"By allowing Americans to keep more of their hard-earned money, the plan respects traditional values of self-reliance and limited government.\",\n                \"The proposal prioritizes job creation through business-friendly policies rather than government intervention.\"\n            ]\n        },\n        {\n            title: \"Supreme Court Rules on Controversial Free Speech Case\",\n            description: \"Justices deliver split decision on limits of First Amendment protections.\",\n            content: \"In a closely watched case, the Supreme Court has issued a 5-4 ruling that establishes new guidelines for determining when speech crosses the line from protected expression to illegal incitement. The decision, which crossed ideological lines, attempts to balance free speech concerns with public safety considerations. Legal experts suggest the ruling will have far-reaching implications for social media companies and online content moderation.\",\n            source: {\n                name: \"CNN\"\n            },\n            sourceId: \"cnn\",\n            url: \"https://example.com/supreme-court-speech\",\n            publishedAt: new Date().toISOString(),\n            keywords: [\n                \"supreme\",\n                \"court\",\n                \"speech\",\n                \"first\",\n                \"amendment\",\n                \"ruling\",\n                \"justices\",\n                \"constitutional\"\n            ],\n            bias: \"center\",\n            biasQuotes: [\n                \"The Court's decision reflects a nuanced understanding of competing constitutional principles.\",\n                \"Both civil liberties advocates and public safety experts found elements to praise in the ruling.\",\n                \"The majority opinion carefully weighed precedent from both liberal and conservative judicial philosophies.\"\n            ]\n        },\n        {\n            title: \"Immigration Reform Proposal Gains Bipartisan Support\",\n            description: \"Compromise bill addresses border security and path to citizenship.\",\n            content: \"A bipartisan group of senators has unveiled a comprehensive immigration reform package that includes enhanced border security measures alongside a pathway to citizenship for certain undocumented immigrants. The proposal has garnered initial support from moderate members of both parties, though it faces opposition from progressive Democrats who argue it is too restrictive and conservative Republicans who contend it amounts to amnesty.\",\n            source: {\n                name: \"ABC News\"\n            },\n            sourceId: \"abc-news\",\n            url: \"https://example.com/immigration-reform\",\n            publishedAt: new Date().toISOString(),\n            keywords: [\n                \"immigration\",\n                \"reform\",\n                \"bipartisan\",\n                \"border\",\n                \"security\",\n                \"citizenship\",\n                \"undocumented\",\n                \"compromise\"\n            ],\n            bias: \"center\",\n            biasQuotes: [\n                \"The bill represents a pragmatic middle ground between competing visions of immigration policy.\",\n                \"Negotiators from both parties made significant concessions to reach this compromise.\",\n                \"The proposal acknowledges both humanitarian concerns and the need for orderly legal immigration processes.\"\n            ]\n        }\n    ];\n    // Add some variation to the articles\n    return fallbackArticles.map((article)=>{\n        // Add random publishedAt times within the last week\n        const randomDaysAgo = Math.floor(Math.random() * 7);\n        const randomHours = Math.floor(Math.random() * 24);\n        const date = new Date();\n        date.setDate(date.getDate() - randomDaysAgo);\n        date.setHours(date.getHours() - randomHours);\n        return {\n            ...article,\n            publishedAt: date.toISOString()\n        };\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBVTtnQkFBWTtnQkFBZTtnQkFBZ0I7YUFBYTtZQUNwSE8sTUFBTTtZQUNORSxZQUFZO2dCQUNWO2dCQUNBO2dCQUNBO2FBQ0Q7UUFDSDtLQUNEO0lBRUQscUNBQXFDO0lBQ3JDLE9BQU8yRyxpQkFBaUJuRixHQUFHLENBQUNuQyxDQUFBQTtRQUMxQixvREFBb0Q7UUFDcEQsTUFBTXVILGdCQUFnQkMsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUs7UUFDakQsTUFBTUMsY0FBY0gsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUs7UUFDL0MsTUFBTUUsT0FBTyxJQUFJdko7UUFDakJ1SixLQUFLQyxPQUFPLENBQUNELEtBQUtFLE9BQU8sS0FBS1A7UUFDOUJLLEtBQUtHLFFBQVEsQ0FBQ0gsS0FBS0ksUUFBUSxLQUFLTDtRQUVoQyxPQUFPO1lBQ0wsR0FBRzNILE9BQU87WUFDVjZDLGFBQWErRSxLQUFLdEosV0FBVztRQUMvQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXdzLWFpLy4vc3JjL2FwcC9hcGkvbmV3cy9yb3V0ZS50cz81ZGY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBBbnRocm9waWMgfSBmcm9tICdAYW50aHJvcGljLWFpL3Nkayc7XG5cbi8vIEluaXRpYWxpemUgQVBJc1xuY29uc3QgTkVXU19BUElfS0VZID0gcHJvY2Vzcy5lbnYuTkVXU19BUElfS0VZIHx8ICcnO1xuY29uc3QgTkVXU19BUElfQkFTRV9VUkwgPSAnaHR0cHM6Ly9uZXdzYXBpLm9yZy92Mic7XG5cbmlmICghTkVXU19BUElfS0VZKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ05FV1NfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0Jyk7XG59XG5cbmNvbnN0IGFudGhyb3BpYyA9IG5ldyBBbnRocm9waWMoeyBhcGlLZXk6IHByb2Nlc3MuZW52LkFOVEhST1BJQ19BUElfS0VZIH0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgLy8gVmFyaWFibGUgdG8gdHJhY2sgaWYgd2UgbmVlZCB0byBjbGVhbiB1cCBhIHRpbWVvdXRcbiAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgY29uc3QgY2xlYXJUaW1lb3V0Rm4gPSAoKSA9PiB7XG4gICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICB0cnkge1xuICAgIC8vIENoZWNrIGZvciBhIHJlZnJlc2ggcXVlcnkgcGFyYW1ldGVyIHRvIGRldGVybWluZSBpZiB3ZSBzaG91bGQgZmV0Y2ggbmV3IGRhdGFcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBzaG91bGRSZWZyZXNoID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3JlZnJlc2gnKSA9PT0gJ3RydWUnO1xuICAgIFxuICAgIGlmICghc2hvdWxkUmVmcmVzaCkge1xuICAgICAgY29uc29sZS5sb2coJ05vIHJlZnJlc2ggcGFyYW1ldGVyIGZvdW5kLCByZXR1cm5pbmcgZW1wdHkgbmV3cyBzdG9yaWVzJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgbmV3c1N0b3JpZXM6IFtdLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSwgeyBzdGF0dXM6IDIwMCB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1JlZnJlc2ggcGFyYW1ldGVyIGZvdW5kLCBmZXRjaGluZyBuZXdzLi4uJyk7XG4gICAgXG4gICAgLy8gVHJ5IHRvIGltcG9ydCB0aGUgU3VwYWJhc2Ugc2VydmljZSB0byBmZXRjaCBuZXdzIHN0b3JpZXNcbiAgICBsZXQgZ2V0TmV3c1N0b3JpZXM6IGFueSA9IG51bGw7XG4gICAgbGV0IHNhdmVOZXdzU3Rvcnk6IGFueSA9IG51bGw7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlU2VydmljZSA9IGF3YWl0IGltcG9ydCgnQC9saWIvc3VwYWJhc2Utc2VydmljZScpO1xuICAgICAgZ2V0TmV3c1N0b3JpZXMgPSBzdXBhYmFzZVNlcnZpY2UuZ2V0TmV3c1N0b3JpZXM7XG4gICAgICBzYXZlTmV3c1N0b3J5ID0gc3VwYWJhc2VTZXJ2aWNlLnNhdmVOZXdzU3Rvcnk7XG4gICAgICBcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBzdG9yaWVzIGluIFN1cGFiYXNlLCByZXR1cm4gdGhlbVxuICAgICAgaWYgKHR5cGVvZiBnZXROZXdzU3RvcmllcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3RvcmllcyA9IGF3YWl0IGdldE5ld3NTdG9yaWVzKCk7XG4gICAgICAgICAgaWYgKGV4aXN0aW5nU3RvcmllcyAmJiBleGlzdGluZ1N0b3JpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7ZXhpc3RpbmdTdG9yaWVzLmxlbmd0aH0gZXhpc3Rpbmcgc3RvcmllcyBpbiBTdXBhYmFzZWApO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgICAgICAgIG5ld3NTdG9yaWVzOiBleGlzdGluZ1N0b3JpZXMsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9LCB7IHN0YXR1czogMjAwIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZGJFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGZyb20gU3VwYWJhc2U6JywgZGJFcnJvcik7XG4gICAgICAgICAgLy8gQ29udGludWUgdG8gZmFsbGJhY2sgaWYgU3VwYWJhc2UgZmFpbHNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGltcG9ydEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbXBvcnRpbmcgU3VwYWJhc2Ugc2VydmljZTonLCBpbXBvcnRFcnJvcik7XG4gICAgICAvLyBDb250aW51ZSB0byBmYWxsYmFjayBpZiBpbXBvcnQgZmFpbHNcbiAgICB9XG4gICAgXG4gICAgaWYgKCFzaG91bGRSZWZyZXNoKSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gcmVmcmVzaCBwYXJhbWV0ZXIgZm91bmQsIHJldHVybmluZyBlbXB0eSBuZXdzIHN0b3JpZXMnKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICBuZXdzU3RvcmllczogW10sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9LCB7IHN0YXR1czogMjAwIH0pO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnUmVmcmVzaCBwYXJhbWV0ZXIgZm91bmQsIGZldGNoaW5nIGZyb20gTmV3c0FQSS4uLicpO1xuICAgIFxuICAgIC8vIFNldCBhIHRpbWVvdXQgZm9yIHRoZSBlbnRpcmUgcmVxdWVzdFxuICAgIGNvbnN0IHJlcXVlc3RUaW1lb3V0ID0gNjAwMDA7IC8vIDYwIHNlY29uZHNcbiAgICBcbiAgICAvLyBDcmVhdGUgYSBwcm9taXNlIHRoYXQgcmVqZWN0cyBhZnRlciB0aGUgdGltZW91dFxuICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3QgdGltZWQgb3V0IGFmdGVyIDYwIHNlY29uZHMnKSk7XG4gICAgICB9LCByZXF1ZXN0VGltZW91dCk7XG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIG5ld3MgZnJvbSBOZXdzQVBJLi4uJyk7XG4gICAgY29uc29sZS5sb2coJ1VzaW5nIE5ld3NBUEkga2V5OicsIE5FV1NfQVBJX0tFWSA/ICdLZXkgaXMgc2V0JyA6ICdLZXkgaXMgTk9UIHNldCcpO1xuXG4gICAgLy8gRmlyc3QsIGNvbGxlY3QgYWxsIGFydGljbGVzIGZyb20gZGlmZmVyZW50IHNvdXJjZXNcbiAgICBsZXQgYWxsQXJ0aWNsZXM6IGFueVtdID0gW107XG4gICAgXG4gICAgLy8gRmV0Y2ggbmV3cyBmcm9tIG11bHRpcGxlIHNvdXJjZXMgd2l0aCBlbXBoYXNpcyBvbiBVUyBhbmQgcG9saXRpY2FsIHNvdXJjZXNcbiAgICBjb25zdCBzb3VyY2VzID0gW1xuICAgICAgJ2NubicsXG4gICAgICAnZm94LW5ld3MnLFxuICAgICAgJ3RoZS13YXNoaW5ndG9uLXBvc3QnLFxuICAgICAgJ3BvbGl0aWNvJyxcbiAgICAgICduYmMtbmV3cycsXG4gICAgICAnYWJjLW5ld3MnLFxuICAgICAgJ2JiYy1uZXdzJyxcbiAgICAgICdyZXV0ZXJzJyxcbiAgICAgICdhc3NvY2lhdGVkLXByZXNzJyxcbiAgICAgICdibG9vbWJlcmcnLFxuICAgICAgJ3RoZS13YWxsLXN0cmVldC1qb3VybmFsJ1xuICAgIF07XG4gICAgXG4gICAgLy8gRmV0Y2ggdG9wIGhlYWRsaW5lcyBmcm9tIGVhY2ggc291cmNlXG4gICAgZm9yIChjb25zdCBzb3VyY2Ugb2Ygc291cmNlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nIGhlYWRsaW5lcyBmcm9tICR7c291cmNlfS4uLmApO1xuICAgICAgICBjb25zdCBzb3VyY2VVcmwgPSBgJHtORVdTX0FQSV9CQVNFX1VSTH0vdG9wLWhlYWRsaW5lcz9zb3VyY2VzPSR7c291cmNlfSZwYWdlU2l6ZT0xMCZhcGlLZXk9JHtORVdTX0FQSV9LRVl9YDtcbiAgICAgICAgXG4gICAgICAgIC8vIENvbmZpZ3VyZSBheGlvcyB3aXRoIHByb3BlciB0aW1lb3V0IGFuZCBubyBzaWduYWxcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoc291cmNlVXJsLCB7XG4gICAgICAgICAgdGltZW91dDogMTAwMDAsIC8vIDEwIHNlY29uZCB0aW1lb3V0XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRhdGEuYXJ0aWNsZXMgJiYgZGF0YS5hcnRpY2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEdvdCAke2RhdGEuYXJ0aWNsZXMubGVuZ3RofSBhcnRpY2xlcyBmcm9tICR7c291cmNlfWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBzb3VyY2UgaW5mbyB0byBlYWNoIGFydGljbGVcbiAgICAgICAgICBkYXRhLmFydGljbGVzLmZvckVhY2goKGFydGljbGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFydGljbGUudGl0bGUgJiYgYXJ0aWNsZS51cmwpIHtcbiAgICAgICAgICAgICAgLy8gRXh0cmFjdCBrZXl3b3JkcyBmcm9tIHRpdGxlIGFuZCBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICBjb25zdCBrZXl3b3JkcyA9IGV4dHJhY3RLZXl3b3JkcyhhcnRpY2xlLnRpdGxlICsgJyAnICsgKGFydGljbGUuZGVzY3JpcHRpb24gfHwgJycpKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEFuYWx5emUgYmlhcyBpbiB0aGUgYXJ0aWNsZVxuICAgICAgICAgICAgICBjb25zdCBiaWFzQW5hbHlzaXMgPSBhbmFseXplQXJ0aWNsZUJpYXMoXG4gICAgICAgICAgICAgICAgYXJ0aWNsZS50aXRsZSwgXG4gICAgICAgICAgICAgICAgYXJ0aWNsZS5kZXNjcmlwdGlvbiB8fCAnJywgXG4gICAgICAgICAgICAgICAgYXJ0aWNsZS5jb250ZW50IHx8ICcnXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBEZWJ1ZyB0aGUgYmlhcyBhbmFseXNpcyByZXN1bHRzXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBCaWFzIGFuYWx5c2lzIGZvciAke3NvdXJjZX06YCwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBhcnRpY2xlLnRpdGxlLnN1YnN0cmluZygwLCAzMCkgKyAnLi4uJyxcbiAgICAgICAgICAgICAgICBiaWFzOiBiaWFzQW5hbHlzaXMuYmlhcyxcbiAgICAgICAgICAgICAgICBxdW90ZUNvdW50OiBiaWFzQW5hbHlzaXMuYmlhc1F1b3Rlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgc2FtcGxlUXVvdGU6IGJpYXNBbmFseXNpcy5iaWFzUXVvdGVzWzBdPy5zdWJzdHJpbmcoMCwgNTApICsgJy4uLidcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBhbGxBcnRpY2xlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2UsXG4gICAgICAgICAgICAgICAga2V5d29yZHM6IGtleXdvcmRzLFxuICAgICAgICAgICAgICAgIGJpYXM6IGJpYXNBbmFseXNpcy5iaWFzLFxuICAgICAgICAgICAgICAgIGJpYXNRdW90ZXM6IGJpYXNBbmFseXNpcy5iaWFzUXVvdGVzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBmcm9tICR7c291cmNlfTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGBDb2xsZWN0ZWQgJHthbGxBcnRpY2xlcy5sZW5ndGh9IHRvdGFsIGFydGljbGVzIGZyb20gYWxsIHNvdXJjZXNgKTtcbiAgICBcbiAgICAvLyBJZiBubyBhcnRpY2xlcyB3ZXJlIGNvbGxlY3RlZCwgcmV0dXJuIGVtcHR5IGFycmF5IGluc3RlYWQgb2YgdXNpbmcgZmFsbGJhY2sgZGF0YVxuICAgIGlmIChhbGxBcnRpY2xlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBhcnRpY2xlcyBjb2xsZWN0ZWQsIGxpa2VseSBkdWUgdG8gcmF0ZSBsaW1pdGluZy4nKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICBuZXdzU3RvcmllczogW10sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBlcnJvcjogJ1JhdGUgbGltaXQgZXhjZWVkZWQgb3Igbm8gYXJ0aWNsZXMgYXZhaWxhYmxlJ1xuICAgICAgfSwgeyBzdGF0dXM6IDIwMCB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gR3JvdXAgc2ltaWxhciBhcnRpY2xlcyB0b2dldGhlclxuICAgIGNvbnN0IG5ld3NFdmVudHM6IGFueVtdID0gW107XG4gIFxuICAgIGZvciAoY29uc3QgYXJ0aWNsZSBvZiBhbGxBcnRpY2xlcykge1xuICAgICAgbGV0IGZvdW5kTWF0Y2ggPSBmYWxzZTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBhcnRpY2xlIGJlbG9uZ3MgdG8gYW4gZXhpc3RpbmcgZXZlbnRcbiAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgbmV3c0V2ZW50cykge1xuICAgICAgICBpZiAoZXZlbnQuYXJ0aWNsZXMuc29tZSgoZXhpc3RpbmdBcnRpY2xlOiBhbnkpID0+IGFyZUFydGljbGVzU2ltaWxhcihleGlzdGluZ0FydGljbGUsIGFydGljbGUpKSkge1xuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgc291cmNlIGlzIGFscmVhZHkgaW4gdGhlIGV2ZW50XG4gICAgICAgICAgY29uc3Qgc291cmNlRXhpc3RzID0gZXZlbnQuYXJ0aWNsZXMuc29tZSgoZXhpc3RpbmdBcnRpY2xlOiBhbnkpID0+IFxuICAgICAgICAgICAgZXhpc3RpbmdBcnRpY2xlLnNvdXJjZT8ubmFtZSA9PT0gYXJ0aWNsZS5zb3VyY2U/Lm5hbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE9ubHkgYWRkIGlmIGl0J3MgZnJvbSBhIGRpZmZlcmVudCBzb3VyY2VcbiAgICAgICAgICBpZiAoIXNvdXJjZUV4aXN0cykge1xuICAgICAgICAgICAgZXZlbnQuYXJ0aWNsZXMucHVzaChhcnRpY2xlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgbm8gbWF0Y2ggZm91bmQsIGNyZWF0ZSBhIG5ldyBldmVudFxuICAgICAgaWYgKCFmb3VuZE1hdGNoKSB7XG4gICAgICAgIG5ld3NFdmVudHMucHVzaCh7XG4gICAgICAgICAgYXJ0aWNsZXM6IFthcnRpY2xlXSxcbiAgICAgICAgICBjYXRlZ29yeTogZGV0ZXJtaW5lTmV3c0NhdGVnb3J5KGFydGljbGUudGl0bGUsIGFydGljbGUuZGVzY3JpcHRpb24sIGV4dHJhY3RLZXl3b3JkcyhhcnRpY2xlLnRpdGxlICsgJyAnICsgYXJ0aWNsZS5kZXNjcmlwdGlvbikpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBQcm9jZXNzIHRoZSBldmVudHMgdG8gY3JlYXRlIG5ld3Mgc3Rvcmllc1xuICAgIGNvbnN0IG5ld3NTdG9yaWVzOiBhbnlbXSA9IFtdO1xuICAgIFxuICAgIC8vIFByb2Nlc3MgZXZlbnRzIHdpdGggYXQgbGVhc3QgMyBzb3VyY2VzIChmb3IgYmV0dGVyIGNvbXBhcmlzb24pXG4gICAgY29uc3QgbXVsdGlTb3VyY2VFdmVudHMgPSBuZXdzRXZlbnRzLmZpbHRlcihldmVudCA9PiBldmVudC5hcnRpY2xlcy5sZW5ndGggPj0gMyk7XG4gICAgY29uc29sZS5sb2coYEZvdW5kICR7bXVsdGlTb3VyY2VFdmVudHMubGVuZ3RofSBldmVudHMgd2l0aCBhdCBsZWFzdCAzIHNvdXJjZXNgKTtcbiAgICBcbiAgICAvLyBJZiBub3QgZW5vdWdoIG11bHRpLXNvdXJjZSBldmVudHMsIGluY2x1ZGUgc29tZSB3aXRoIGZld2VyIHNvdXJjZXNcbiAgICBjb25zdCBldmVudHNUb1Byb2Nlc3MgPSBtdWx0aVNvdXJjZUV2ZW50cy5sZW5ndGggPj0gNSA/IFxuICAgICAgbXVsdGlTb3VyY2VFdmVudHMuc2xpY2UoMCwgMTApIDogXG4gICAgICBbLi4ubXVsdGlTb3VyY2VFdmVudHMsIC4uLm5ld3NFdmVudHMuZmlsdGVyKGV2ZW50ID0+IGV2ZW50LmFydGljbGVzLmxlbmd0aCA+PSAyKS5zbGljZSgwLCAxMCAtIG11bHRpU291cmNlRXZlbnRzLmxlbmd0aCldO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nICR7ZXZlbnRzVG9Qcm9jZXNzLmxlbmd0aH0gbmV3cyBldmVudHNgKTtcbiAgICBcbiAgICAvLyBQcm9jZXNzIGVhY2ggZXZlbnQgdG8gY3JlYXRlIGEgbmV3cyBzdG9yeVxuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzVG9Qcm9jZXNzKSB7XG4gICAgICAvLyBVc2UgdGhlIG1vc3QgZGV0YWlsZWQgYXJ0aWNsZSBhcyB0aGUgbWFpbiBvbmVcbiAgICAgIGNvbnN0IG1haW5BcnRpY2xlID0gZXZlbnQuYXJ0aWNsZXMucmVkdWNlKChiZXN0OiBhbnksIGN1cnJlbnQ6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBiZXN0TGVuZ3RoID0gKGJlc3QuY29udGVudD8ubGVuZ3RoIHx8IDApICsgKGJlc3QuZGVzY3JpcHRpb24/Lmxlbmd0aCB8fCAwKTtcbiAgICAgICAgY29uc3QgY3VycmVudExlbmd0aCA9IChjdXJyZW50LmNvbnRlbnQ/Lmxlbmd0aCB8fCAwKSArIChjdXJyZW50LmRlc2NyaXB0aW9uPy5sZW5ndGggfHwgMCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50TGVuZ3RoID4gYmVzdExlbmd0aCA/IGN1cnJlbnQgOiBiZXN0O1xuICAgICAgfSwgZXZlbnQuYXJ0aWNsZXNbMF0pO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgc291cmNlcyBsaXN0XG4gICAgICBjb25zdCBzb3VyY2VzID0gZXZlbnQuYXJ0aWNsZXMubWFwKChhcnRpY2xlOiBhbnkpID0+ICh7XG4gICAgICAgIHRpdGxlOiBhcnRpY2xlLnRpdGxlLFxuICAgICAgICBzb3VyY2U6IGFydGljbGUuc291cmNlPy5uYW1lIHx8IGFydGljbGUuc291cmNlSWQsXG4gICAgICAgIGxpbms6IGFydGljbGUudXJsXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIGEgc3VtbWFyeSBhbmQgZXh0cmFjdCBjb21tb24gZmFjdHMgYW5kIHVuaXF1ZSBjbGFpbXNcbiAgICAgIGxldCBzdW1tYXJ5ID0gbWFpbkFydGljbGUuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICBsZXQgY29tbW9uRmFjdHMgPSAnJztcbiAgICAgIGNvbnN0IHVuaXF1ZUNsYWltczogYW55W10gPSBbXTtcbiAgICAgIFxuICAgICAgLy8gUHJvY2VzcyBzb3VyY2UgYmlhcyBpbmZvcm1hdGlvblxuICAgICAgY29uc3Qgc291cmNlQmlhc0luZm86IHtzb3VyY2U6IHN0cmluZzsgYmlhczogJ2xlZnQnIHwgJ3JpZ2h0JyB8ICdjZW50ZXInIHwgJ3Vua25vd24nOyBiaWFzUXVvdGVzOiBzdHJpbmdbXX1bXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBEZWJ1ZyBsb2cgdG8gY2hlY2sgaWYgYXJ0aWNsZXMgaGF2ZSBiaWFzIGluZm9ybWF0aW9uXG4gICAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgZm9yIGJpYXMgaW4gYXJ0aWNsZXM6JywgZXZlbnQuYXJ0aWNsZXMubGVuZ3RoLCAnYXJ0aWNsZXMnKTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBhcnRpY2xlIG9mIGV2ZW50LmFydGljbGVzKSB7XG4gICAgICAgIC8vIERlYnVnIGxvZyBmb3IgZWFjaCBhcnRpY2xlXG4gICAgICAgIGNvbnNvbGUubG9nKCdBcnRpY2xlIHNvdXJjZTonLCBhcnRpY2xlLnNvdXJjZT8ubmFtZSB8fCBhcnRpY2xlLnNvdXJjZUlkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0hhcyBiaWFzIGluZm86JywgISFhcnRpY2xlLmJpYXMsICdIYXMgYmlhcyBxdW90ZXM6JywgISEoYXJ0aWNsZS5iaWFzUXVvdGVzICYmIGFydGljbGUuYmlhc1F1b3Rlcy5sZW5ndGggPiAwKSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoYXJ0aWNsZS5zb3VyY2VJZCAmJiBhcnRpY2xlLmJpYXMgJiYgYXJ0aWNsZS5iaWFzUXVvdGVzICYmIGFydGljbGUuYmlhc1F1b3Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgc291cmNlIG5hbWUgZnJvbSB0aGUgYXJ0aWNsZVxuICAgICAgICAgIGNvbnN0IHNvdXJjZU5hbWUgPSBhcnRpY2xlLnNvdXJjZT8ubmFtZSB8fCBhcnRpY2xlLnNvdXJjZUlkO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCB0byBzb3VyY2UgYmlhcyBpbmZvIGlmIG5vdCBhbHJlYWR5IGFkZGVkXG4gICAgICAgICAgaWYgKCFzb3VyY2VCaWFzSW5mby5zb21lKHNiID0+IHNiLnNvdXJjZSA9PT0gc291cmNlTmFtZSkpIHtcbiAgICAgICAgICAgIHNvdXJjZUJpYXNJbmZvLnB1c2goe1xuICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZU5hbWUsXG4gICAgICAgICAgICAgIGJpYXM6IGFydGljbGUuYmlhcyxcbiAgICAgICAgICAgICAgYmlhc1F1b3RlczogYXJ0aWNsZS5iaWFzUXVvdGVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGRlZCBiaWFzIGluZm8gZm9yIHNvdXJjZTonLCBzb3VyY2VOYW1lLCAnd2l0aCBiaWFzOicsIGFydGljbGUuYmlhcywgJ2FuZCBxdW90ZXM6JywgYXJ0aWNsZS5iaWFzUXVvdGVzLmxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgZmluYWwgc291cmNlQmlhc0luZm9cbiAgICAgIGNvbnNvbGUubG9nKCdUb3RhbCBzb3VyY2VzIHdpdGggYmlhcyBpbmZvOicsIHNvdXJjZUJpYXNJbmZvLmxlbmd0aCk7XG4gICAgICBcbiAgICAgIC8vIEFkZCB0byBuZXdzIHN0b3JpZXNcbiAgICAgIGNvbnN0IG5ld3NTdG9yeSA9IHtcbiAgICAgICAgaGVhZGxpbmU6IG1haW5BcnRpY2xlLnRpdGxlLFxuICAgICAgICBzdW1tYXJ5OiBzdW1tYXJ5LFxuICAgICAgICBzb3VyY2VzOiBzb3VyY2VzLFxuICAgICAgICBwdWJsaXNoZWRBdDogbWFpbkFydGljbGUucHVibGlzaGVkQXQsXG4gICAgICAgIG1haW5LZXl3b3JkczogbWFpbkFydGljbGUua2V5d29yZHMsXG4gICAgICAgIGNhdGVnb3J5OiBldmVudC5jYXRlZ29yeSxcbiAgICAgICAgY29tbW9uRmFjdHM6IGNvbW1vbkZhY3RzLFxuICAgICAgICB1bmlxdWVDbGFpbXM6IHVuaXF1ZUNsYWltcyxcbiAgICAgICAgc291cmNlQmlhczogc291cmNlQmlhc0luZm9cbiAgICAgIH07XG4gICAgICBcbiAgICAgIG5ld3NTdG9yaWVzLnB1c2gobmV3c1N0b3J5KTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSB0byBTdXBhYmFzZSBpZiB0aGUgZnVuY3Rpb24gaXMgYXZhaWxhYmxlXG4gICAgICBpZiAodHlwZW9mIHNhdmVOZXdzU3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBzYXZlTmV3c1N0b3J5KG5ld3NTdG9yeSk7XG4gICAgICAgICAgY29uc29sZS5sb2coYFNhdmVkIHN0b3J5IHRvIFN1cGFiYXNlOiAke21haW5BcnRpY2xlLnRpdGxlLnN1YnN0cmluZygwLCAzMCl9Li4uYCk7XG4gICAgICAgIH0gY2F0Y2ggKHNhdmVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB0byBTdXBhYmFzZTonLCBzYXZlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnU2tpcHBpbmcgU3VwYWJhc2Ugc2F2ZSAtIHNhdmVOZXdzU3RvcnkgZnVuY3Rpb24gbm90IGF2YWlsYWJsZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBSZXR1cm4gdGhlIG5ld3Mgc3Rvcmllc1xuICAgIGNsZWFyVGltZW91dEZuKCk7IC8vIENsZWFyIHRoZSB0aW1lb3V0IGJlZm9yZSByZXR1cm5pbmdcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIG5ld3NTdG9yaWVzLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9LCB7IHN0YXR1czogMjAwIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0IGlmIHRoZXJlIHdhcyBhbiBlcnJvclxuICAgIHRyeSB7XG4gICAgICAvLyBPbmx5IGNsZWFyIHRpbWVvdXQgaWYgd2UncmUgaW4gdGhlIE5ld3NBUEkgZmV0Y2ggcGF0aFxuICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXRGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjbGVhclRpbWVvdXRGbigpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZSBlcnJvcnMgaW4gY2xlYW51cFxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBOZXdzIEFQSTonLCBlcnJvcik7XG4gICAgXG4gICAgLy8gUmV0dXJuIGEgbW9yZSBkZXRhaWxlZCBlcnJvciBtZXNzYWdlXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIG5ld3MnO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIChjb3BpZWQgZnJvbSBvcmlnaW5hbCBmaWxlKVxuZnVuY3Rpb24gZXh0cmFjdEtleXdvcmRzKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gW107XG4gIFxuICAvLyBSZW1vdmUgY29tbW9uIHN0b3Agd29yZHNcbiAgY29uc3Qgc3RvcFdvcmRzID0gW1xuICAgICdhJywgJ2FuJywgJ3RoZScsICdhbmQnLCAnb3InLCAnYnV0JywgJ2lzJywgJ2FyZScsICd3YXMnLCAnd2VyZScsICdiZScsICdiZWVuJywgJ2JlaW5nJyxcbiAgICAnaW4nLCAnb24nLCAnYXQnLCAndG8nLCAnZm9yJywgJ3dpdGgnLCAnYnknLCAnYWJvdXQnLCAnYWdhaW5zdCcsICdiZXR3ZWVuJywgJ2ludG8nLCAndGhyb3VnaCcsXG4gICAgJ2R1cmluZycsICdiZWZvcmUnLCAnYWZ0ZXInLCAnYWJvdmUnLCAnYmVsb3cnLCAnZnJvbScsICd1cCcsICdkb3duJywgJ29mJywgJ29mZicsICdvdmVyJywgJ3VuZGVyJyxcbiAgICAnYWdhaW4nLCAnZnVydGhlcicsICd0aGVuJywgJ29uY2UnLCAnaGVyZScsICd0aGVyZScsICd3aGVuJywgJ3doZXJlJywgJ3doeScsICdob3cnLCAnYWxsJywgJ2FueScsXG4gICAgJ2JvdGgnLCAnZWFjaCcsICdmZXcnLCAnbW9yZScsICdtb3N0JywgJ290aGVyJywgJ3NvbWUnLCAnc3VjaCcsICdubycsICdub3InLCAnbm90JywgJ29ubHknLCAnb3duJyxcbiAgICAnc2FtZScsICdzbycsICd0aGFuJywgJ3RvbycsICd2ZXJ5JywgJ3MnLCAndCcsICdjYW4nLCAnd2lsbCcsICdqdXN0JywgJ2RvbicsICdzaG91bGQnLCAnbm93J1xuICBdO1xuICBcbiAgLy8gTm9ybWFsaXplIHRleHRcbiAgY29uc3Qgbm9ybWFsaXplZFRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvW15cXHdcXHNdL2csICcnKSAvLyBSZW1vdmUgcHVuY3R1YXRpb25cbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpOyAvLyBOb3JtYWxpemUgd2hpdGVzcGFjZVxuICBcbiAgLy8gU3BsaXQgaW50byB3b3JkcyBhbmQgZmlsdGVyXG4gIGNvbnN0IHdvcmRzID0gbm9ybWFsaXplZFRleHQuc3BsaXQoJyAnKVxuICAgIC5maWx0ZXIod29yZCA9PiB3b3JkLmxlbmd0aCA+IDMgJiYgIXN0b3BXb3Jkcy5pbmNsdWRlcyh3b3JkKSk7XG4gIFxuICAvLyBDb3VudCB3b3JkIGZyZXF1ZW5jaWVzXG4gIGNvbnN0IHdvcmRDb3VudHM6IHtba2V5OiBzdHJpbmddOiBudW1iZXJ9ID0ge307XG4gIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgIHdvcmRDb3VudHNbd29yZF0gPSAod29yZENvdW50c1t3b3JkXSB8fCAwKSArIDE7XG4gIH1cbiAgXG4gIC8vIFNvcnQgYnkgZnJlcXVlbmN5XG4gIGNvbnN0IHNvcnRlZFdvcmRzID0gT2JqZWN0LmtleXMod29yZENvdW50cykuc29ydCgoYSwgYikgPT4gd29yZENvdW50c1tiXSAtIHdvcmRDb3VudHNbYV0pO1xuICBcbiAgLy8gUmV0dXJuIHRvcCBrZXl3b3JkcyAodXAgdG8gMTApXG4gIHJldHVybiBzb3J0ZWRXb3Jkcy5zbGljZSgwLCAxMCk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBhbmFseXplIGFydGljbGUgYmlhcyBhbmQgZXh0cmFjdCByZWxldmFudCBxdW90ZXNcbmZ1bmN0aW9uIGFuYWx5emVBcnRpY2xlQmlhcyh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcgfCBudWxsKTogeyBiaWFzOiAnbGVmdCcgfCAncmlnaHQnIHwgJ2NlbnRlcicgfCAndW5rbm93bicsIGJpYXNRdW90ZXM6IHN0cmluZ1tdIH0ge1xuICAvLyBDb21iaW5lIGFsbCB0ZXh0IGZvciBhbmFseXNpc1xuICBjb25zdCBmdWxsVGV4dCA9IFt0aXRsZSwgZGVzY3JpcHRpb24sIGNvbnRlbnRdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XG4gIFxuICAvLyBJbml0aWFsaXplIHJlc3VsdFxuICBjb25zdCByZXN1bHQgPSB7XG4gICAgYmlhczogJ3Vua25vd24nIGFzICdsZWZ0JyB8ICdyaWdodCcgfCAnY2VudGVyJyB8ICd1bmtub3duJyxcbiAgICBiaWFzUXVvdGVzOiBbXSBhcyBzdHJpbmdbXVxuICB9O1xuICBcbiAgLy8gRGVmaW5lIGJpYXMgaW5kaWNhdG9ycyAtIGV4cGFuZGVkIGZvciBiZXR0ZXIgZGV0ZWN0aW9uXG4gIGNvbnN0IGxlZnRCaWFzVGVybXMgPSBbXG4gICAgJ3Byb2dyZXNzaXZlJywgJ2xpYmVyYWwnLCAnZGVtb2NyYXQnLCAnc29jaWFsIGp1c3RpY2UnLCAnZXF1YWxpdHknLCAnY2xpbWF0ZSBjaGFuZ2UnLCBcbiAgICAnZ3JlZW4nLCAnZW52aXJvbm1lbnRhbCcsICdkaXZlcnNpdHknLCAnaW5jbHVzaW9uJywgJ21hcmdpbmFsaXplZCcsICdzeXN0ZW1pYycsICdyZWZvcm0nLFxuICAgICdyZWd1bGF0aW9uJywgJ3dvcmtlcnMnLCAndW5pb24nLCAndW5pdmVyc2FsIGhlYWx0aGNhcmUnLCAnZ3VuIGNvbnRyb2wnLCAncmVwcm9kdWN0aXZlIHJpZ2h0cycsXG4gICAgJ3dlbGZhcmUnLCAncHVibGljIG9wdGlvbicsICdtZWRpY2FyZSBmb3IgYWxsJywgJ3dlYWx0aCB0YXgnLCAnaW5jb21lIGluZXF1YWxpdHknLCAnbGl2aW5nIHdhZ2UnLFxuICAgICdhZmZvcmRhYmxlIGhvdXNpbmcnLCAnc3R1ZGVudCBsb2FuIGZvcmdpdmVuZXNzJywgJ3BvbGljZSByZWZvcm0nLCAnZGVmdW5kJywgJ3Byb2dyZXNzaXZlJyxcbiAgICAncmFjaWFsIGp1c3RpY2UnLCAnZ2VuZGVyIGVxdWFsaXR5JywgJ0xHQlRRKycsICd0cmFuc2dlbmRlcicsICdwcm9ub3VucycsICdwcml2aWxlZ2UnLFxuICAgICdzdHJ1Y3R1cmFsIHJhY2lzbScsICdlcXVpdHknLCAnYWZmaXJtYXRpdmUgYWN0aW9uJywgJ3JlcGFyYXRpb25zJ1xuICBdO1xuICBcbiAgY29uc3QgcmlnaHRCaWFzVGVybXMgPSBbXG4gICAgJ2NvbnNlcnZhdGl2ZScsICdyZXB1YmxpY2FuJywgJ3RyYWRpdGlvbmFsJywgJ2ZyZWVkb20nLCAnbGliZXJ0eScsICdwYXRyaW90JywgJ2FtZXJpY2EgZmlyc3QnLFxuICAgICdmcmVlIG1hcmtldCcsICdkZXJlZ3VsYXRpb24nLCAndGF4IGN1dHMnLCAnc21hbGwgZ292ZXJubWVudCcsICdzZWNvbmQgYW1lbmRtZW50JywgJ3Byby1saWZlJyxcbiAgICAnYm9yZGVyIHNlY3VyaXR5JywgJ2lsbGVnYWwgaW1taWdyYXRpb24nLCAnbGF3IGFuZCBvcmRlcicsICdmYW1pbHkgdmFsdWVzJywgJ3JlbGlnaW91cyBsaWJlcnR5JyxcbiAgICAnY29uc3RpdHV0aW9uYWwnLCAnZm91bmRpbmcgZmF0aGVycycsICdoZXJpdGFnZScsICdpbmRpdmlkdWFsIHJlc3BvbnNpYmlsaXR5JywgJ3NjaG9vbCBjaG9pY2UnLFxuICAgICd0b3VnaCBvbiBjcmltZScsICduYXRpb25hbCBzZWN1cml0eScsICdtaWxpdGFyeSBzdHJlbmd0aCcsICdmaXNjYWwgcmVzcG9uc2liaWxpdHknLFxuICAgICdwcml2YXRlIHNlY3RvcicsICdqb2IgY3JlYXRvcnMnLCAnbGltaXRlZCBnb3Zlcm5tZW50JywgJ3N0YXRlcyByaWdodHMnLCAndm90ZXIgSUQnLFxuICAgICd0cmFkaXRpb25hbCBtYXJyaWFnZScsICdzYW5jdGl0eSBvZiBsaWZlJywgJ2FtZXJpY2FuIGV4Y2VwdGlvbmFsaXNtJywgJ3BhdHJpb3Rpc20nXG4gIF07XG4gIFxuICAvLyBDb3VudCBiaWFzIGluZGljYXRvcnNcbiAgbGV0IGxlZnRDb3VudCA9IDA7XG4gIGxldCByaWdodENvdW50ID0gMDtcbiAgXG4gIC8vIEV4dHJhY3Qgc2VudGVuY2VzIHRoYXQgbWlnaHQgY29udGFpbiBiaWFzXG4gIGNvbnN0IHNlbnRlbmNlcyA9IGZ1bGxUZXh0LnNwbGl0KC9bLiE/XVxccysvKTtcbiAgY29uc3QgYmlhc1F1b3Rlczogc3RyaW5nW10gPSBbXTtcbiAgXG4gIGZvciAoY29uc3Qgc2VudGVuY2Ugb2Ygc2VudGVuY2VzKSB7XG4gICAgbGV0IGxlZnRUZXJtc0luU2VudGVuY2UgPSAwO1xuICAgIGxldCByaWdodFRlcm1zSW5TZW50ZW5jZSA9IDA7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIGxlZnQtbGVhbmluZyB0ZXJtc1xuICAgIGZvciAoY29uc3QgdGVybSBvZiBsZWZ0Qmlhc1Rlcm1zKSB7XG4gICAgICBpZiAoc2VudGVuY2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgIGxlZnRDb3VudCsrO1xuICAgICAgICBsZWZ0VGVybXNJblNlbnRlbmNlKys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGZvciByaWdodC1sZWFuaW5nIHRlcm1zXG4gICAgZm9yIChjb25zdCB0ZXJtIG9mIHJpZ2h0Qmlhc1Rlcm1zKSB7XG4gICAgICBpZiAoc2VudGVuY2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgIHJpZ2h0Q291bnQrKztcbiAgICAgICAgcmlnaHRUZXJtc0luU2VudGVuY2UrKztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSWYgc2VudGVuY2UgY29udGFpbnMgYmlhcyB0ZXJtcywgYWRkIGl0IHRvIHF1b3Rlc1xuICAgIGlmIChsZWZ0VGVybXNJblNlbnRlbmNlID4gMCB8fCByaWdodFRlcm1zSW5TZW50ZW5jZSA+IDApIHtcbiAgICAgIC8vIE9ubHkgYWRkIGlmIHRoZSBzZW50ZW5jZSBpcyBvZiByZWFzb25hYmxlIGxlbmd0aCBhbmQgbm90IGFscmVhZHkgaW5jbHVkZWRcbiAgICAgIGlmIChzZW50ZW5jZS5sZW5ndGggPiAyMCAmJiBzZW50ZW5jZS5sZW5ndGggPCAzMDAgJiYgIWJpYXNRdW90ZXMuaW5jbHVkZXMoc2VudGVuY2UpKSB7XG4gICAgICAgIGJpYXNRdW90ZXMucHVzaChzZW50ZW5jZS50cmltKCkgKyAnLicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggYmlhcyBxdW90ZXMsIGFkZCBzb21lIGdlbmVyYWwgc2VudGVuY2VzIGZyb20gdGhlIGFydGljbGVcbiAgaWYgKGJpYXNRdW90ZXMubGVuZ3RoIDwgMiAmJiBzZW50ZW5jZXMubGVuZ3RoID4gMCkge1xuICAgIC8vIEZpbmQgc3Vic3RhbnRpdmUgc2VudGVuY2VzIHRoYXQgbWlnaHQgcmVwcmVzZW50IHRoZSBhcnRpY2xlJ3MgcGVyc3BlY3RpdmVcbiAgICBmb3IgKGNvbnN0IHNlbnRlbmNlIG9mIHNlbnRlbmNlcykge1xuICAgICAgaWYgKHNlbnRlbmNlLmxlbmd0aCA+IDQwICYmIHNlbnRlbmNlLmxlbmd0aCA8IDI1MCAmJiAhYmlhc1F1b3Rlcy5pbmNsdWRlcyhzZW50ZW5jZSkpIHtcbiAgICAgICAgLy8gTG9vayBmb3Igc2VudGVuY2VzIHdpdGggb3BpbmlvbiBpbmRpY2F0b3JzIG9yIGF0dHJpYnV0aW9uc1xuICAgICAgICBpZiAoc2VudGVuY2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYWNjb3JkaW5nIHRvJykgfHwgXG4gICAgICAgICAgICBzZW50ZW5jZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzYWlkJykgfHwgXG4gICAgICAgICAgICBzZW50ZW5jZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzdGF0ZWQnKSB8fCBcbiAgICAgICAgICAgIHNlbnRlbmNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2JlbGlldmVzJykgfHwgXG4gICAgICAgICAgICBzZW50ZW5jZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdhcmd1ZXMnKSB8fCBcbiAgICAgICAgICAgIHNlbnRlbmNlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NsYWltcycpIHx8XG4gICAgICAgICAgICBzZW50ZW5jZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzdWdnZXN0cycpIHx8XG4gICAgICAgICAgICBzZW50ZW5jZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdpbmRpY2F0ZXMnKSkge1xuICAgICAgICAgIGJpYXNRdW90ZXMucHVzaChzZW50ZW5jZS50cmltKCkgKyAnLicpO1xuICAgICAgICAgIGlmIChiaWFzUXVvdGVzLmxlbmd0aCA+PSAzKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLy8gSWYgd2Ugc3RpbGwgZG9uJ3QgaGF2ZSBlbm91Z2ggcXVvdGVzLCBhZGQgc29tZSBzdWJzdGFudGl2ZSBzZW50ZW5jZXMgZnJvbSB0aGUgYXJ0aWNsZVxuICBpZiAoYmlhc1F1b3Rlcy5sZW5ndGggPCAyICYmIHNlbnRlbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgLy8gU29ydCBzZW50ZW5jZXMgYnkgbGVuZ3RoIChwcmVmZXIgbG9uZ2VyLCBtb3JlIHN1YnN0YW50aXZlIHNlbnRlbmNlcylcbiAgICBjb25zdCBzb3J0ZWRTZW50ZW5jZXMgPSBbLi4uc2VudGVuY2VzXS5maWx0ZXIocyA9PiBzLmxlbmd0aCA+IDMwICYmIHMubGVuZ3RoIDwgMjUwKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xuICAgIFxuICAgIC8vIFRha2UgdGhlIHRvcCBzZW50ZW5jZXMgdGhhdCBhcmVuJ3QgYWxyZWFkeSBpbiBiaWFzUXVvdGVzXG4gICAgZm9yIChjb25zdCBzZW50ZW5jZSBvZiBzb3J0ZWRTZW50ZW5jZXMpIHtcbiAgICAgIGlmICghYmlhc1F1b3Rlcy5pbmNsdWRlcyhzZW50ZW5jZSkpIHtcbiAgICAgICAgYmlhc1F1b3Rlcy5wdXNoKHNlbnRlbmNlLnRyaW0oKSArICcuJyk7XG4gICAgICAgIGlmIChiaWFzUXVvdGVzLmxlbmd0aCA+PSAzKSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIERldGVybWluZSBvdmVyYWxsIGJpYXMgYmFzZWQgb24gdGVybSBjb3VudHNcbiAgaWYgKGxlZnRDb3VudCA+IHJpZ2h0Q291bnQgKiAxLjUpIHtcbiAgICByZXN1bHQuYmlhcyA9ICdsZWZ0JztcbiAgfSBlbHNlIGlmIChyaWdodENvdW50ID4gbGVmdENvdW50ICogMS41KSB7XG4gICAgcmVzdWx0LmJpYXMgPSAncmlnaHQnO1xuICB9IGVsc2UgaWYgKGxlZnRDb3VudCA+IDAgfHwgcmlnaHRDb3VudCA+IDApIHtcbiAgICByZXN1bHQuYmlhcyA9ICdjZW50ZXInO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIG5vIGNsZWFyIGJpYXMgdGVybXMsIGRlZmF1bHQgdG8gY2VudGVyXG4gICAgcmVzdWx0LmJpYXMgPSAnY2VudGVyJztcbiAgfVxuICBcbiAgLy8gTGltaXQgdG8gdG9wIDMgcXVvdGVzXG4gIHJlc3VsdC5iaWFzUXVvdGVzID0gYmlhc1F1b3Rlcy5zbGljZSgwLCAzKTtcbiAgXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgbmV3cyBjYXRlZ29yeVxuZnVuY3Rpb24gZGV0ZXJtaW5lTmV3c0NhdGVnb3J5KHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGtleXdvcmRzOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gIGNvbnN0IHRleHQgPSAodGl0bGUgKyAnICcgKyBkZXNjcmlwdGlvbikudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgYWxsVGV4dCA9IHRleHQgKyAnICcgKyBrZXl3b3Jkcy5qb2luKCcgJykudG9Mb3dlckNhc2UoKTtcbiAgXG4gIC8vIENoZWNrIGZvciBVUyBuZXdzXG4gIGlmICgvXFxiKHVzfHVuaXRlZCBzdGF0ZXN8YW1lcmljYXxhbWVyaWNhbnx3YXNoaW5ndG9ufGJpZGVufHRydW1wfGNvbmdyZXNzfHNlbmF0ZXxob3VzZXx3aGl0ZSBob3VzZSlcXGIvLnRlc3QoYWxsVGV4dCkpIHtcbiAgICByZXR1cm4gJ3VzJztcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIHBvbGl0aWNzXG4gIGlmICgvXFxiKHBvbGl0aWN8ZWxlY3Rpb258dm90ZXxkZW1vY3JhdHxyZXB1YmxpY2FufGNvbmdyZXNzfHNlbmF0ZXxob3VzZXxwcmVzaWRlbnR8YWRtaW5pc3RyYXRpb258Z292ZXJubWVudHxsYXd8c3VwcmVtZSBjb3VydHxiaWxsfGxlZ2lzbGF0aW9uKVxcYi8udGVzdChhbGxUZXh0KSkge1xuICAgIHJldHVybiAncG9saXRpY3MnO1xuICB9XG4gIFxuICAvLyBDaGVjayBmb3Igd29ybGQgbmV3c1xuICBpZiAoL1xcYih3b3JsZHxnbG9iYWx8aW50ZXJuYXRpb25hbHxldXJvcGV8YXNpYXxhZnJpY2F8bWlkZGxlIGVhc3R8Y2hpbmF8cnVzc2lhfHVrcmFpbmV8Zm9yZWlnbnxkaXBsb21hdGljfHVufHVuaXRlZCBuYXRpb25zKVxcYi8udGVzdChhbGxUZXh0KSkge1xuICAgIHJldHVybiAnd29ybGQnO1xuICB9XG4gIFxuICAvLyBDaGVjayBmb3IgYnVzaW5lc3MvZWNvbm9teVxuICBpZiAoL1xcYihidXNpbmVzc3xlY29ub215fGVjb25vbWljfG1hcmtldHxzdG9ja3xmaW5hbmNlfHRyYWRlfGNvbXBhbnl8Y29ycG9yYXRlfGluZmxhdGlvbnxyZWNlc3Npb258ZmVkfGZlZGVyYWwgcmVzZXJ2ZSlcXGIvLnRlc3QoYWxsVGV4dCkpIHtcbiAgICByZXR1cm4gJ2J1c2luZXNzJztcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIHRlY2hub2xvZ3lcbiAgaWYgKC9cXGIodGVjaHx0ZWNobm9sb2d5fGRpZ2l0YWx8c29mdHdhcmV8aGFyZHdhcmV8YXBwfGludGVybmV0fGN5YmVyfGFpfGFydGlmaWNpYWwgaW50ZWxsaWdlbmNlfHJvYm90fGlubm92YXRpb258c3RhcnR1cClcXGIvLnRlc3QoYWxsVGV4dCkpIHtcbiAgICByZXR1cm4gJ3RlY2hub2xvZ3knO1xuICB9XG4gIFxuICAvLyBDaGVjayBmb3IgaGVhbHRoXG4gIGlmICgvXFxiKGhlYWx0aHxtZWRpY2FsfG1lZGljaW5lfGRpc2Vhc2V8dmlydXN8cGFuZGVtaWN8ZG9jdG9yfGhvc3BpdGFsfHBhdGllbnR8Y292aWR8dmFjY2luZXxoZWFsdGhjYXJlKVxcYi8udGVzdChhbGxUZXh0KSkge1xuICAgIHJldHVybiAnaGVhbHRoJztcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIHNjaWVuY2VcbiAgaWYgKC9cXGIoc2NpZW5jZXxzY2llbnRpZmljfHJlc2VhcmNofHN0dWR5fGRpc2NvdmVyeXxzcGFjZXxuYXNhfHBoeXNpY3N8YmlvbG9neXxjaGVtaXN0cnl8Y2xpbWF0ZXxlbnZpcm9ubWVudClcXGIvLnRlc3QoYWxsVGV4dCkpIHtcbiAgICByZXR1cm4gJ3NjaWVuY2UnO1xuICB9XG4gIFxuICAvLyBDaGVjayBmb3Igc3BvcnRzXG4gIGlmICgvXFxiKHNwb3J0fGdhbWV8bWF0Y2h8dGVhbXxwbGF5ZXJ8Y2hhbXBpb25zaGlwfHRvdXJuYW1lbnR8b2x5bXBpY3xmb290YmFsbHxzb2NjZXJ8YmFza2V0YmFsbHxiYXNlYmFsbHx0ZW5uaXN8bmZsfG5iYXxtbGIpXFxiLy50ZXN0KGFsbFRleHQpKSB7XG4gICAgcmV0dXJuICdzcG9ydHMnO1xuICB9XG4gIFxuICAvLyBDaGVjayBmb3IgZW50ZXJ0YWlubWVudFxuICBpZiAoL1xcYihlbnRlcnRhaW5tZW50fG1vdmllfGZpbG18dHZ8dGVsZXZpc2lvbnxzaG93fGNlbGVicml0eXxhY3RvcnxhY3RyZXNzfG11c2ljfGFydGlzdHxjb25jZXJ0fGhvbGx5d29vZClcXGIvLnRlc3QoYWxsVGV4dCkpIHtcbiAgICByZXR1cm4gJ2VudGVydGFpbm1lbnQnO1xuICB9XG4gIFxuICAvLyBDaGVjayBmb3Igc29jaWFsL2xpZmVzdHlsZVxuICBpZiAoL1xcYihzb2NpYWx8bGlmZXN0eWxlfGZhc2hpb258Zm9vZHx0cmF2ZWx8Y2VsZWJyaXR5fHRyZW5kKVxcYi8udGVzdChhbGxUZXh0KSkge1xuICAgIHJldHVybiAnc29jaWFsJztcbiAgfVxuICBcbiAgLy8gRGVmYXVsdCB0byAnb3RoZXInIGlmIG5vIGNhdGVnb3J5IG1hdGNoZXNcbiAgcmV0dXJuICdvdGhlcic7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB0d28gYXJ0aWNsZXMgYXJlIGFib3V0IHRoZSBzYW1lIHN0b3J5XG5mdW5jdGlvbiBhcmVBcnRpY2xlc1NpbWlsYXIoYXJ0aWNsZTE6IGFueSwgYXJ0aWNsZTI6IGFueSk6IGJvb2xlYW4ge1xuICAvLyBJZiB0aXRsZXMgYXJlIHZlcnkgc2ltaWxhciwgdGhleSdyZSBsaWtlbHkgYWJvdXQgdGhlIHNhbWUgc3RvcnlcbiAgY29uc3QgdGl0bGVTaW1pbGFyaXR5ID0gY2FsY3VsYXRlVGl0bGVTaW1pbGFyaXR5KGFydGljbGUxLnRpdGxlLCBhcnRpY2xlMi50aXRsZSk7XG4gIGlmICh0aXRsZVNpbWlsYXJpdHkgPiAwLjcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIHNoYXJlZCBlbnRpdGllc1xuICBjb25zdCBlbnRpdGllczEgPSBleHRyYWN0TmFtZWRFbnRpdGllcyhhcnRpY2xlMS50aXRsZSArICcgJyArIChhcnRpY2xlMS5kZXNjcmlwdGlvbiB8fCAnJykpO1xuICBjb25zdCBlbnRpdGllczIgPSBleHRyYWN0TmFtZWRFbnRpdGllcyhhcnRpY2xlMi50aXRsZSArICcgJyArIChhcnRpY2xlMi5kZXNjcmlwdGlvbiB8fCAnJykpO1xuICBcbiAgLy8gQ291bnQgc2hhcmVkIGVudGl0aWVzXG4gIGxldCBzaGFyZWRFbnRpdGllcyA9IDA7XG4gIGZvciAoY29uc3QgZW50aXR5IG9mIGVudGl0aWVzMSkge1xuICAgIGlmIChlbnRpdGllczIuaW5jbHVkZXMoZW50aXR5KSkge1xuICAgICAgc2hhcmVkRW50aXRpZXMrKztcbiAgICB9XG4gIH1cbiAgXG4gIC8vIElmIHRoZXkgc2hhcmUgbXVsdGlwbGUgZW50aXRpZXMsIHRoZXkncmUgbGlrZWx5IGFib3V0IHRoZSBzYW1lIHN0b3J5XG4gIGlmIChzaGFyZWRFbnRpdGllcyA+PSAyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciBrZXl3b3JkIG92ZXJsYXBcbiAgY29uc3Qga2V5d29yZHMxID0gYXJ0aWNsZTEua2V5d29yZHMgfHwgW107XG4gIGNvbnN0IGtleXdvcmRzMiA9IGFydGljbGUyLmtleXdvcmRzIHx8IFtdO1xuICBcbiAgbGV0IHNoYXJlZEtleXdvcmRzID0gMDtcbiAgZm9yIChjb25zdCBrZXl3b3JkIG9mIGtleXdvcmRzMSkge1xuICAgIGlmIChrZXl3b3JkczIuaW5jbHVkZXMoa2V5d29yZCkpIHtcbiAgICAgIHNoYXJlZEtleXdvcmRzKys7XG4gICAgfVxuICB9XG4gIFxuICAvLyBJZiB0aGV5IHNoYXJlIG11bHRpcGxlIGtleXdvcmRzLCB0aGV5IG1pZ2h0IGJlIGFib3V0IHRoZSBzYW1lIHN0b3J5XG4gIGlmIChzaGFyZWRLZXl3b3JkcyA+PSAzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aXRsZSBzaW1pbGFyaXR5XG5mdW5jdGlvbiBjYWxjdWxhdGVUaXRsZVNpbWlsYXJpdHkodGl0bGUxOiBzdHJpbmcsIHRpdGxlMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgLy8gTm9ybWFsaXplIHRpdGxlc1xuICBjb25zdCBub3JtYWxpemUgPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRleHRcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15cXHdcXHNdL2csICcnKSAvLyBSZW1vdmUgcHVuY3R1YXRpb25cbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykgICAgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2VcbiAgICAgIC50cmltKCk7XG4gIH07XG4gIFxuICBjb25zdCBub3JtYWxpemVkVGl0bGUxID0gbm9ybWFsaXplKHRpdGxlMSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRUaXRsZTIgPSBub3JtYWxpemUodGl0bGUyKTtcbiAgXG4gIC8vIFNwbGl0IGludG8gd29yZHNcbiAgY29uc3Qgd29yZHMxID0gbm9ybWFsaXplZFRpdGxlMS5zcGxpdCgnICcpO1xuICBjb25zdCB3b3JkczIgPSBub3JtYWxpemVkVGl0bGUyLnNwbGl0KCcgJyk7XG4gIFxuICAvLyBDb3VudCBzaGFyZWQgd29yZHNcbiAgbGV0IHNoYXJlZFdvcmRzID0gMDtcbiAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzMSkge1xuICAgIGlmICh3b3JkLmxlbmd0aCA+IDMgJiYgd29yZHMyLmluY2x1ZGVzKHdvcmQpKSB7XG4gICAgICBzaGFyZWRXb3JkcysrO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gQ2FsY3VsYXRlIEphY2NhcmQgc2ltaWxhcml0eVxuICBjb25zdCB1bmlxdWVXb3JkcyA9IG5ldyBTZXQoWy4uLndvcmRzMSwgLi4ud29yZHMyXSk7XG4gIHJldHVybiBzaGFyZWRXb3JkcyAvIHVuaXF1ZVdvcmRzLnNpemU7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBleHRyYWN0IG5hbWVkIGVudGl0aWVzXG5mdW5jdGlvbiBleHRyYWN0TmFtZWRFbnRpdGllcyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHZlcnNpb24gdGhhdCBsb29rcyBmb3IgY2FwaXRhbGl6ZWQgd29yZHNcbiAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB5b3UnZCB1c2UgYSBOTFAgbGlicmFyeVxuICBcbiAgY29uc3QgZW50aXRpZXM6IHN0cmluZ1tdID0gW107XG4gIGNvbnN0IHdvcmRzID0gdGV4dC5zcGxpdCgvXFxzKy8pO1xuICBcbiAgLy8gTG9vayBmb3IgY2FwaXRhbGl6ZWQgd29yZHMgdGhhdCBhcmVuJ3QgYXQgdGhlIHN0YXJ0IG9mIHNlbnRlbmNlc1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgd29yZCA9IHdvcmRzW2ldLnJlcGxhY2UoL1teXFx3XS9nLCAnJyk7IC8vIFJlbW92ZSBwdW5jdHVhdGlvblxuICAgIFxuICAgIGlmICh3b3JkLmxlbmd0aCA+IDEgJiYgL15bQS1aXS8udGVzdCh3b3JkKSkge1xuICAgICAgLy8gQ2hlY2sgaWYgaXQncyBwYXJ0IG9mIGEgbXVsdGktd29yZCBlbnRpdHlcbiAgICAgIGxldCBlbnRpdHkgPSB3b3JkO1xuICAgICAgbGV0IGogPSBpICsgMTtcbiAgICAgIFxuICAgICAgLy8gQ29udGludWUgYWRkaW5nIGNhcGl0YWxpemVkIHdvcmRzIHRvIHRoZSBlbnRpdHlcbiAgICAgIHdoaWxlIChqIDwgd29yZHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG5leHRXb3JkID0gd29yZHNbal0ucmVwbGFjZSgvW15cXHddL2csICcnKTtcbiAgICAgICAgaWYgKG5leHRXb3JkLmxlbmd0aCA+IDEgJiYgL15bQS1aXS8udGVzdChuZXh0V29yZCkpIHtcbiAgICAgICAgICBlbnRpdHkgKz0gJyAnICsgbmV4dFdvcmQ7XG4gICAgICAgICAgaisrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgIGkgPSBqIC0gMTsgLy8gU2tpcCB0aGUgd29yZHMgd2UndmUgYWxyZWFkeSBpbmNsdWRlZFxuICAgIH1cbiAgfVxuICBcbiAgLy8gQWxzbyBsb29rIGZvciB3b3JkcyBhdCB0aGUgc3RhcnQgb2Ygc2VudGVuY2VzIHRoYXQgbWlnaHQgYmUgZW50aXRpZXNcbiAgaWYgKHdvcmRzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmaXJzdFdvcmQgPSB3b3Jkc1swXS5yZXBsYWNlKC9bXlxcd10vZywgJycpO1xuICAgIGlmIChmaXJzdFdvcmQubGVuZ3RoID4gMSAmJiAvXltBLVpdLy50ZXN0KGZpcnN0V29yZCkgJiYgIS9eKFRoZXxBfEFufFRoaXN8VGhhdHxUaGVzZXxUaG9zZXxJdHxIZXxTaGV8VGhleXxXZXxJKSQvaS50ZXN0KGZpcnN0V29yZCkpIHtcbiAgICAgIGVudGl0aWVzLnB1c2goZmlyc3RXb3JkKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFJldHVybiB1bmlxdWUgZW50aXRpZXNcbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChlbnRpdGllcykpO1xufVxuXG4vLyBGdW5jdGlvbiB0byBnZW5lcmF0ZSBmYWxsYmFjayBuZXdzIGFydGljbGVzIHdoZW4gQVBJIGlzIHJhdGUgbGltaXRlZFxuZnVuY3Rpb24gZ2VuZXJhdGVGYWxsYmFja0FydGljbGVzKCk6IGFueVtdIHtcbiAgY29uc3QgZmFsbGJhY2tBcnRpY2xlcyA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogXCJHbG9iYWwgQ2xpbWF0ZSBTdW1taXQgUmVhY2hlcyBIaXN0b3JpYyBBZ3JlZW1lbnRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIldvcmxkIGxlYWRlcnMgaGF2ZSBhZ3JlZWQgdG8gYW1iaXRpb3VzIG5ldyB0YXJnZXRzIHRvIHJlZHVjZSBjYXJib24gZW1pc3Npb25zIGJ5IDIwMzAuXCIsXG4gICAgICBjb250ZW50OiBcIkluIGEgbGFuZG1hcmsgZGVjaXNpb24sIHJlcHJlc2VudGF0aXZlcyBmcm9tIDE5NSBjb3VudHJpZXMgaGF2ZSBjb21taXR0ZWQgdG8gY3V0dGluZyBjYXJib24gZW1pc3Npb25zIGJ5IDUwJSBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgZGVjYWRlLiBUaGUgYWdyZWVtZW50LCB3aGljaCBmb2xsb3dzIHR3byB3ZWVrcyBvZiBpbnRlbnNlIG5lZ290aWF0aW9ucywgaGFzIGJlZW4gaGFpbGVkIGFzIGEgYnJlYWt0aHJvdWdoIGluIHRoZSBmaWdodCBhZ2FpbnN0IGNsaW1hdGUgY2hhbmdlLiBFbnZpcm9ubWVudGFsIGFjdGl2aXN0cyBoYXZlIHdlbGNvbWVkIHRoZSBuZXdzIGJ1dCB3YXJuIHRoYXQgaW1wbGVtZW50YXRpb24gd2lsbCBiZSBrZXkuXCIsXG4gICAgICBzb3VyY2U6IHsgbmFtZTogXCJSZXV0ZXJzXCIgfSxcbiAgICAgIHNvdXJjZUlkOiBcInJldXRlcnNcIixcbiAgICAgIHVybDogXCJodHRwczovL2V4YW1wbGUuY29tL2NsaW1hdGUtc3VtbWl0XCIsXG4gICAgICBwdWJsaXNoZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAga2V5d29yZHM6IFtcImNsaW1hdGVcIiwgXCJlbWlzc2lvbnNcIiwgXCJhZ3JlZW1lbnRcIiwgXCJnbG9iYWxcIiwgXCJzdW1taXRcIiwgXCJjYXJib25cIiwgXCJlbnZpcm9ubWVudFwiLCBcInRhcmdldHNcIl0sXG4gICAgICBiaWFzOiBcImNlbnRlclwiLFxuICAgICAgYmlhc1F1b3RlczogW1xuICAgICAgICBcIlRoZSBhZ3JlZW1lbnQgcmVwcmVzZW50cyBhIGJhbGFuY2VkIGFwcHJvYWNoIHRvIGFkZHJlc3NpbmcgY2xpbWF0ZSBjaGFsbGVuZ2VzIHdoaWxlIGNvbnNpZGVyaW5nIGVjb25vbWljIHJlYWxpdGllcy5cIixcbiAgICAgICAgXCJCb3RoIHByb2dyZXNzaXZlIGFuZCBjb25zZXJ2YXRpdmUgbGVhZGVycyBoYXZlIGV4cHJlc3NlZCBjYXV0aW91cyBvcHRpbWlzbSBhYm91dCB0aGUgZnJhbWV3b3JrLlwiLFxuICAgICAgICBcIlRoZSBzdW1taXQgbWFuYWdlZCB0byBicmlkZ2UgZGl2aWRlcyBiZXR3ZWVuIGRldmVsb3BpbmcgYW5kIGluZHVzdHJpYWxpemVkIG5hdGlvbnMuXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIk5ldyBFY29ub21pYyBQb2xpY3kgQWltcyB0byBSZWR1Y2UgSW5mbGF0aW9uXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJUaGUgRmVkZXJhbCBSZXNlcnZlIGFubm91bmNlZCBhIHNlcmllcyBvZiBtZWFzdXJlcyB0byB0YWNrbGUgcmlzaW5nIGNvbnN1bWVyIHByaWNlcy5cIixcbiAgICAgIGNvbnRlbnQ6IFwiVGhlIEZlZGVyYWwgUmVzZXJ2ZSBoYXMgdW52ZWlsZWQgYSBjb21wcmVoZW5zaXZlIHN0cmF0ZWd5IHRvIGNvbWJhdCBpbmZsYXRpb24sIHdoaWNoIGhhcyByZWFjaGVkIGl0cyBoaWdoZXN0IGxldmVsIGluIGZvdXIgZGVjYWRlcy4gVGhlIHBsYW4gaW5jbHVkZXMgYSAwLjUlIGludGVyZXN0IHJhdGUgaGlrZSwgdGhlIGxhcmdlc3Qgc2luZ2xlIGluY3JlYXNlIHNpbmNlIDIwMDAsIGFuZCBhIHJlZHVjdGlvbiBpbiB0aGUgRmVkJ3MgYm9uZCBob2xkaW5ncy4gRWNvbm9taXN0cyBhcmUgZGl2aWRlZCBvbiB3aGV0aGVyIHRoZXNlIG1lYXN1cmVzIHdpbGwgYmUgc3VmZmljaWVudCB0byBjdXJiIGluZmxhdGlvbiB3aXRob3V0IHRyaWdnZXJpbmcgYSByZWNlc3Npb24uXCIsXG4gICAgICBzb3VyY2U6IHsgbmFtZTogXCJCbG9vbWJlcmdcIiB9LFxuICAgICAgc291cmNlSWQ6IFwiYmxvb21iZXJnXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9mZWQtaW5mbGF0aW9uXCIsXG4gICAgICBwdWJsaXNoZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAga2V5d29yZHM6IFtcImVjb25vbXlcIiwgXCJpbmZsYXRpb25cIiwgXCJmZWRlcmFsXCIsIFwicmVzZXJ2ZVwiLCBcImludGVyZXN0XCIsIFwicmF0ZXNcIiwgXCJwb2xpY3lcIiwgXCJyZWNlc3Npb25cIl0sXG4gICAgICBiaWFzOiBcImNlbnRlclwiLFxuICAgICAgYmlhc1F1b3RlczogW1xuICAgICAgICBcIlRoZSBGZWRlcmFsIFJlc2VydmUgaXMgd2Fsa2luZyBhIHRpZ2h0cm9wZSBiZXR3ZWVuIGNvbnRyb2xsaW5nIGluZmxhdGlvbiBhbmQgYXZvaWRpbmcgZWNvbm9taWMgZG93bnR1cm4uXCIsXG4gICAgICAgIFwiQW5hbHlzdHMgZnJvbSBhY3Jvc3MgdGhlIHBvbGl0aWNhbCBzcGVjdHJ1bSBhY2tub3dsZWRnZSB0aGUgZGlmZmljdWx0eSBvZiB0aGUgY3VycmVudCBlY29ub21pYyBzaXR1YXRpb24uXCIsXG4gICAgICAgIFwiVGhlIHBvbGljeSByZXByZXNlbnRzIGEgbWlkZGxlIHBhdGggYmV0d2VlbiBtb3JlIGFnZ3Jlc3NpdmUgYW5kIG1vcmUgY2F1dGlvdXMgYXBwcm9hY2hlcy5cIlxuICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6IFwiSGVhbHRoY2FyZSBSZWZvcm0gQmlsbCBQYXNzZXMgU2VuYXRlXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJMYW5kbWFyayBsZWdpc2xhdGlvbiBleHBhbmRzIGNvdmVyYWdlIHRvIG1pbGxpb25zIG9mIEFtZXJpY2Fucy5cIixcbiAgICAgIGNvbnRlbnQ6IFwiQWZ0ZXIgbW9udGhzIG9mIGRlYmF0ZSwgdGhlIFNlbmF0ZSBoYXMgcGFzc2VkIGEgc3dlZXBpbmcgaGVhbHRoY2FyZSByZWZvcm0gYmlsbCB0aGF0IHdvdWxkIGV4dGVuZCBtZWRpY2FsIGNvdmVyYWdlIHRvIGFuIGVzdGltYXRlZCAxNSBtaWxsaW9uIGN1cnJlbnRseSB1bmluc3VyZWQgQW1lcmljYW5zLiBUaGUgbGVnaXNsYXRpb24gaW5jbHVkZXMgcHJvdmlzaW9ucyBmb3IgbG93ZXJpbmcgcHJlc2NyaXB0aW9uIGRydWcgcHJpY2VzIGFuZCBleHBhbmRpbmcgc3Vic2lkaWVzIGZvciBsb3ctaW5jb21lIGZhbWlsaWVzLiBUaGUgYmlsbCBub3cgbW92ZXMgdG8gdGhlIEhvdXNlLCB3aGVyZSBpdCBmYWNlcyBhIG1vcmUgY2hhbGxlbmdpbmcgcGF0aCB0byBhcHByb3ZhbC5cIixcbiAgICAgIHNvdXJjZTogeyBuYW1lOiBcIldhc2hpbmd0b24gUG9zdFwiIH0sXG4gICAgICBzb3VyY2VJZDogXCJ0aGUtd2FzaGluZ3Rvbi1wb3N0XCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9oZWFsdGhjYXJlLWJpbGxcIixcbiAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBrZXl3b3JkczogW1wiaGVhbHRoY2FyZVwiLCBcInJlZm9ybVwiLCBcInNlbmF0ZVwiLCBcImNvdmVyYWdlXCIsIFwibGVnaXNsYXRpb25cIiwgXCJpbnN1cmFuY2VcIiwgXCJtZWRpY2FsXCIsIFwiYmlsbFwiXSxcbiAgICAgIGJpYXM6IFwibGVmdFwiLFxuICAgICAgYmlhc1F1b3RlczogW1xuICAgICAgICBcIlRoZSBoaXN0b3JpYyBiaWxsIHJlcHJlc2VudHMgYSBzdGVwIHRvd2FyZCB1bml2ZXJzYWwgaGVhbHRoY2FyZSB0aGF0IG1hbnkgcHJvZ3Jlc3NpdmUgYWR2b2NhdGVzIGhhdmUgbG9uZyBjaGFtcGlvbmVkLlwiLFxuICAgICAgICBcIlN1cHBvcnRlcnMgZW1waGFzaXplIHRoZSBtb3JhbCBpbXBlcmF0aXZlIG9mIGVuc3VyaW5nIGFsbCBBbWVyaWNhbnMgaGF2ZSBhY2Nlc3MgdG8gYWZmb3JkYWJsZSBoZWFsdGhjYXJlLlwiLFxuICAgICAgICBcIlRoZSBsZWdpc2xhdGlvbiBhZGRyZXNzZXMgc3lzdGVtaWMgaW5lcXVhbGl0aWVzIGluIHRoZSBjdXJyZW50IGhlYWx0aGNhcmUgc3lzdGVtIHRoYXQgZGlzcHJvcG9ydGlvbmF0ZWx5IGFmZmVjdCBtYXJnaW5hbGl6ZWQgY29tbXVuaXRpZXMuXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIlRheCBDdXQgUGFja2FnZSBQcm9wb3NlZCB0byBTdGltdWxhdGUgRWNvbm9taWMgR3Jvd3RoXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJSZXB1YmxpY2FuIGxhd21ha2VycyB1bnZlaWwgcGxhbiB0byByZWR1Y2UgY29ycG9yYXRlIGFuZCBpbmRpdmlkdWFsIHRheCByYXRlcy5cIixcbiAgICAgIGNvbnRlbnQ6IFwiQSBncm91cCBvZiBSZXB1YmxpY2FuIHNlbmF0b3JzIGhhcyBpbnRyb2R1Y2VkIGEgY29tcHJlaGVuc2l2ZSB0YXggcmVmb3JtIHBhY2thZ2UgdGhhdCB3b3VsZCBzaWduaWZpY2FudGx5IHJlZHVjZSByYXRlcyBmb3IgYm90aCBjb3Jwb3JhdGlvbnMgYW5kIGluZGl2aWR1YWxzLiBQcm9wb25lbnRzIGFyZ3VlIHRoZSBjdXRzIHdpbGwgc3B1ciBpbnZlc3RtZW50LCBjcmVhdGUgam9icywgYW5kIGJvb3N0IGVjb25vbWljIGdyb3d0aC4gQ3JpdGljcyBjb250ZW5kIHRoZSBwbGFuIHdvdWxkIHByaW1hcmlseSBiZW5lZml0IHdlYWx0aHkgQW1lcmljYW5zIGFuZCBpbmNyZWFzZSB0aGUgbmF0aW9uYWwgZGVmaWNpdC4gVGhlIENvbmdyZXNzaW9uYWwgQnVkZ2V0IE9mZmljZSBpcyBleHBlY3RlZCB0byByZWxlYXNlIGl0cyBhbmFseXNpcyBvZiB0aGUgcHJvcG9zYWwgbmV4dCB3ZWVrLlwiLFxuICAgICAgc291cmNlOiB7IG5hbWU6IFwiRm94IE5ld3NcIiB9LFxuICAgICAgc291cmNlSWQ6IFwiZm94LW5ld3NcIixcbiAgICAgIHVybDogXCJodHRwczovL2V4YW1wbGUuY29tL3RheC1jdXRzXCIsXG4gICAgICBwdWJsaXNoZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAga2V5d29yZHM6IFtcInRheFwiLCBcImN1dHNcIiwgXCJlY29ub21pY1wiLCBcImdyb3d0aFwiLCBcInJlcHVibGljYW5cIiwgXCJkZWZpY2l0XCIsIFwiY29ycG9yYXRlXCIsIFwicmVmb3JtXCJdLFxuICAgICAgYmlhczogXCJyaWdodFwiLFxuICAgICAgYmlhc1F1b3RlczogW1xuICAgICAgICBcIlRoZSB0YXggY3V0cyByZXByZXNlbnQgYSBjb21taXRtZW50IHRvIGZyZWUgbWFya2V0IHByaW5jaXBsZXMgYW5kIGVjb25vbWljIGxpYmVydHkuXCIsXG4gICAgICAgIFwiQnkgYWxsb3dpbmcgQW1lcmljYW5zIHRvIGtlZXAgbW9yZSBvZiB0aGVpciBoYXJkLWVhcm5lZCBtb25leSwgdGhlIHBsYW4gcmVzcGVjdHMgdHJhZGl0aW9uYWwgdmFsdWVzIG9mIHNlbGYtcmVsaWFuY2UgYW5kIGxpbWl0ZWQgZ292ZXJubWVudC5cIixcbiAgICAgICAgXCJUaGUgcHJvcG9zYWwgcHJpb3JpdGl6ZXMgam9iIGNyZWF0aW9uIHRocm91Z2ggYnVzaW5lc3MtZnJpZW5kbHkgcG9saWNpZXMgcmF0aGVyIHRoYW4gZ292ZXJubWVudCBpbnRlcnZlbnRpb24uXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIlN1cHJlbWUgQ291cnQgUnVsZXMgb24gQ29udHJvdmVyc2lhbCBGcmVlIFNwZWVjaCBDYXNlXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJKdXN0aWNlcyBkZWxpdmVyIHNwbGl0IGRlY2lzaW9uIG9uIGxpbWl0cyBvZiBGaXJzdCBBbWVuZG1lbnQgcHJvdGVjdGlvbnMuXCIsXG4gICAgICBjb250ZW50OiBcIkluIGEgY2xvc2VseSB3YXRjaGVkIGNhc2UsIHRoZSBTdXByZW1lIENvdXJ0IGhhcyBpc3N1ZWQgYSA1LTQgcnVsaW5nIHRoYXQgZXN0YWJsaXNoZXMgbmV3IGd1aWRlbGluZXMgZm9yIGRldGVybWluaW5nIHdoZW4gc3BlZWNoIGNyb3NzZXMgdGhlIGxpbmUgZnJvbSBwcm90ZWN0ZWQgZXhwcmVzc2lvbiB0byBpbGxlZ2FsIGluY2l0ZW1lbnQuIFRoZSBkZWNpc2lvbiwgd2hpY2ggY3Jvc3NlZCBpZGVvbG9naWNhbCBsaW5lcywgYXR0ZW1wdHMgdG8gYmFsYW5jZSBmcmVlIHNwZWVjaCBjb25jZXJucyB3aXRoIHB1YmxpYyBzYWZldHkgY29uc2lkZXJhdGlvbnMuIExlZ2FsIGV4cGVydHMgc3VnZ2VzdCB0aGUgcnVsaW5nIHdpbGwgaGF2ZSBmYXItcmVhY2hpbmcgaW1wbGljYXRpb25zIGZvciBzb2NpYWwgbWVkaWEgY29tcGFuaWVzIGFuZCBvbmxpbmUgY29udGVudCBtb2RlcmF0aW9uLlwiLFxuICAgICAgc291cmNlOiB7IG5hbWU6IFwiQ05OXCIgfSxcbiAgICAgIHNvdXJjZUlkOiBcImNublwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vc3VwcmVtZS1jb3VydC1zcGVlY2hcIixcbiAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBrZXl3b3JkczogW1wic3VwcmVtZVwiLCBcImNvdXJ0XCIsIFwic3BlZWNoXCIsIFwiZmlyc3RcIiwgXCJhbWVuZG1lbnRcIiwgXCJydWxpbmdcIiwgXCJqdXN0aWNlc1wiLCBcImNvbnN0aXR1dGlvbmFsXCJdLFxuICAgICAgYmlhczogXCJjZW50ZXJcIixcbiAgICAgIGJpYXNRdW90ZXM6IFtcbiAgICAgICAgXCJUaGUgQ291cnQncyBkZWNpc2lvbiByZWZsZWN0cyBhIG51YW5jZWQgdW5kZXJzdGFuZGluZyBvZiBjb21wZXRpbmcgY29uc3RpdHV0aW9uYWwgcHJpbmNpcGxlcy5cIixcbiAgICAgICAgXCJCb3RoIGNpdmlsIGxpYmVydGllcyBhZHZvY2F0ZXMgYW5kIHB1YmxpYyBzYWZldHkgZXhwZXJ0cyBmb3VuZCBlbGVtZW50cyB0byBwcmFpc2UgaW4gdGhlIHJ1bGluZy5cIixcbiAgICAgICAgXCJUaGUgbWFqb3JpdHkgb3BpbmlvbiBjYXJlZnVsbHkgd2VpZ2hlZCBwcmVjZWRlbnQgZnJvbSBib3RoIGxpYmVyYWwgYW5kIGNvbnNlcnZhdGl2ZSBqdWRpY2lhbCBwaGlsb3NvcGhpZXMuXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIkltbWlncmF0aW9uIFJlZm9ybSBQcm9wb3NhbCBHYWlucyBCaXBhcnRpc2FuIFN1cHBvcnRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbXByb21pc2UgYmlsbCBhZGRyZXNzZXMgYm9yZGVyIHNlY3VyaXR5IGFuZCBwYXRoIHRvIGNpdGl6ZW5zaGlwLlwiLFxuICAgICAgY29udGVudDogXCJBIGJpcGFydGlzYW4gZ3JvdXAgb2Ygc2VuYXRvcnMgaGFzIHVudmVpbGVkIGEgY29tcHJlaGVuc2l2ZSBpbW1pZ3JhdGlvbiByZWZvcm0gcGFja2FnZSB0aGF0IGluY2x1ZGVzIGVuaGFuY2VkIGJvcmRlciBzZWN1cml0eSBtZWFzdXJlcyBhbG9uZ3NpZGUgYSBwYXRod2F5IHRvIGNpdGl6ZW5zaGlwIGZvciBjZXJ0YWluIHVuZG9jdW1lbnRlZCBpbW1pZ3JhbnRzLiBUaGUgcHJvcG9zYWwgaGFzIGdhcm5lcmVkIGluaXRpYWwgc3VwcG9ydCBmcm9tIG1vZGVyYXRlIG1lbWJlcnMgb2YgYm90aCBwYXJ0aWVzLCB0aG91Z2ggaXQgZmFjZXMgb3Bwb3NpdGlvbiBmcm9tIHByb2dyZXNzaXZlIERlbW9jcmF0cyB3aG8gYXJndWUgaXQgaXMgdG9vIHJlc3RyaWN0aXZlIGFuZCBjb25zZXJ2YXRpdmUgUmVwdWJsaWNhbnMgd2hvIGNvbnRlbmQgaXQgYW1vdW50cyB0byBhbW5lc3R5LlwiLFxuICAgICAgc291cmNlOiB7IG5hbWU6IFwiQUJDIE5ld3NcIiB9LFxuICAgICAgc291cmNlSWQ6IFwiYWJjLW5ld3NcIixcbiAgICAgIHVybDogXCJodHRwczovL2V4YW1wbGUuY29tL2ltbWlncmF0aW9uLXJlZm9ybVwiLFxuICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGtleXdvcmRzOiBbXCJpbW1pZ3JhdGlvblwiLCBcInJlZm9ybVwiLCBcImJpcGFydGlzYW5cIiwgXCJib3JkZXJcIiwgXCJzZWN1cml0eVwiLCBcImNpdGl6ZW5zaGlwXCIsIFwidW5kb2N1bWVudGVkXCIsIFwiY29tcHJvbWlzZVwiXSxcbiAgICAgIGJpYXM6IFwiY2VudGVyXCIsXG4gICAgICBiaWFzUXVvdGVzOiBbXG4gICAgICAgIFwiVGhlIGJpbGwgcmVwcmVzZW50cyBhIHByYWdtYXRpYyBtaWRkbGUgZ3JvdW5kIGJldHdlZW4gY29tcGV0aW5nIHZpc2lvbnMgb2YgaW1taWdyYXRpb24gcG9saWN5LlwiLFxuICAgICAgICBcIk5lZ290aWF0b3JzIGZyb20gYm90aCBwYXJ0aWVzIG1hZGUgc2lnbmlmaWNhbnQgY29uY2Vzc2lvbnMgdG8gcmVhY2ggdGhpcyBjb21wcm9taXNlLlwiLFxuICAgICAgICBcIlRoZSBwcm9wb3NhbCBhY2tub3dsZWRnZXMgYm90aCBodW1hbml0YXJpYW4gY29uY2VybnMgYW5kIHRoZSBuZWVkIGZvciBvcmRlcmx5IGxlZ2FsIGltbWlncmF0aW9uIHByb2Nlc3Nlcy5cIlxuICAgICAgXVxuICAgIH1cbiAgXTtcbiAgXG4gIC8vIEFkZCBzb21lIHZhcmlhdGlvbiB0byB0aGUgYXJ0aWNsZXNcbiAgcmV0dXJuIGZhbGxiYWNrQXJ0aWNsZXMubWFwKGFydGljbGUgPT4ge1xuICAgIC8vIEFkZCByYW5kb20gcHVibGlzaGVkQXQgdGltZXMgd2l0aGluIHRoZSBsYXN0IHdlZWtcbiAgICBjb25zdCByYW5kb21EYXlzQWdvID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNyk7XG4gICAgY29uc3QgcmFuZG9tSG91cnMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNCk7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gcmFuZG9tRGF5c0Fnbyk7XG4gICAgZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgLSByYW5kb21Ib3Vycyk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmFydGljbGUsXG4gICAgICBwdWJsaXNoZWRBdDogZGF0ZS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYXhpb3MiLCJBbnRocm9waWMiLCJORVdTX0FQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwiTkVXU19BUElfQkFTRV9VUkwiLCJjb25zb2xlIiwiZXJyb3IiLCJhbnRocm9waWMiLCJhcGlLZXkiLCJBTlRIUk9QSUNfQVBJX0tFWSIsIkdFVCIsInJlcXVlc3QiLCJ0aW1lb3V0SWQiLCJjbGVhclRpbWVvdXRGbiIsImNsZWFyVGltZW91dCIsInVybCIsIlVSTCIsInNob3VsZFJlZnJlc2giLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJsb2ciLCJqc29uIiwibmV3c1N0b3JpZXMiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzdGF0dXMiLCJnZXROZXdzU3RvcmllcyIsInNhdmVOZXdzU3RvcnkiLCJzdXBhYmFzZVNlcnZpY2UiLCJleGlzdGluZ1N0b3JpZXMiLCJsZW5ndGgiLCJkYkVycm9yIiwiaW1wb3J0RXJyb3IiLCJyZXF1ZXN0VGltZW91dCIsInRpbWVvdXRQcm9taXNlIiwiUHJvbWlzZSIsIl8iLCJyZWplY3QiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJhbGxBcnRpY2xlcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VVcmwiLCJyZXNwb25zZSIsInRpbWVvdXQiLCJoZWFkZXJzIiwiZGF0YSIsImFydGljbGVzIiwiZm9yRWFjaCIsImFydGljbGUiLCJ0aXRsZSIsImtleXdvcmRzIiwiZXh0cmFjdEtleXdvcmRzIiwiZGVzY3JpcHRpb24iLCJiaWFzQW5hbHlzaXMiLCJhbmFseXplQXJ0aWNsZUJpYXMiLCJjb250ZW50Iiwic3Vic3RyaW5nIiwiYmlhcyIsInF1b3RlQ291bnQiLCJiaWFzUXVvdGVzIiwic2FtcGxlUXVvdGUiLCJwdXNoIiwic291cmNlSWQiLCJuZXdzRXZlbnRzIiwiZm91bmRNYXRjaCIsImV2ZW50Iiwic29tZSIsImV4aXN0aW5nQXJ0aWNsZSIsImFyZUFydGljbGVzU2ltaWxhciIsInNvdXJjZUV4aXN0cyIsIm5hbWUiLCJjYXRlZ29yeSIsImRldGVybWluZU5ld3NDYXRlZ29yeSIsIm11bHRpU291cmNlRXZlbnRzIiwiZmlsdGVyIiwiZXZlbnRzVG9Qcm9jZXNzIiwic2xpY2UiLCJtYWluQXJ0aWNsZSIsInJlZHVjZSIsImJlc3QiLCJjdXJyZW50IiwiYmVzdExlbmd0aCIsImN1cnJlbnRMZW5ndGgiLCJtYXAiLCJsaW5rIiwic3VtbWFyeSIsImNvbW1vbkZhY3RzIiwidW5pcXVlQ2xhaW1zIiwic291cmNlQmlhc0luZm8iLCJzb3VyY2VOYW1lIiwic2IiLCJuZXdzU3RvcnkiLCJoZWFkbGluZSIsInB1Ymxpc2hlZEF0IiwibWFpbktleXdvcmRzIiwic291cmNlQmlhcyIsInNhdmVFcnJvciIsImUiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwidGV4dCIsInN0b3BXb3JkcyIsIm5vcm1hbGl6ZWRUZXh0IiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwid29yZHMiLCJzcGxpdCIsIndvcmQiLCJpbmNsdWRlcyIsIndvcmRDb3VudHMiLCJzb3J0ZWRXb3JkcyIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwiYSIsImIiLCJmdWxsVGV4dCIsIkJvb2xlYW4iLCJqb2luIiwicmVzdWx0IiwibGVmdEJpYXNUZXJtcyIsInJpZ2h0Qmlhc1Rlcm1zIiwibGVmdENvdW50IiwicmlnaHRDb3VudCIsInNlbnRlbmNlcyIsInNlbnRlbmNlIiwibGVmdFRlcm1zSW5TZW50ZW5jZSIsInJpZ2h0VGVybXNJblNlbnRlbmNlIiwidGVybSIsInRyaW0iLCJzb3J0ZWRTZW50ZW5jZXMiLCJzIiwiYWxsVGV4dCIsInRlc3QiLCJhcnRpY2xlMSIsImFydGljbGUyIiwidGl0bGVTaW1pbGFyaXR5IiwiY2FsY3VsYXRlVGl0bGVTaW1pbGFyaXR5IiwiZW50aXRpZXMxIiwiZXh0cmFjdE5hbWVkRW50aXRpZXMiLCJlbnRpdGllczIiLCJzaGFyZWRFbnRpdGllcyIsImVudGl0eSIsImtleXdvcmRzMSIsImtleXdvcmRzMiIsInNoYXJlZEtleXdvcmRzIiwia2V5d29yZCIsInRpdGxlMSIsInRpdGxlMiIsIm5vcm1hbGl6ZSIsIm5vcm1hbGl6ZWRUaXRsZTEiLCJub3JtYWxpemVkVGl0bGUyIiwid29yZHMxIiwid29yZHMyIiwic2hhcmVkV29yZHMiLCJ1bmlxdWVXb3JkcyIsIlNldCIsInNpemUiLCJlbnRpdGllcyIsImkiLCJqIiwibmV4dFdvcmQiLCJmaXJzdFdvcmQiLCJBcnJheSIsImZyb20iLCJnZW5lcmF0ZUZhbGxiYWNrQXJ0aWNsZXMiLCJmYWxsYmFja0FydGljbGVzIiwicmFuZG9tRGF5c0FnbyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJhbmRvbUhvdXJzIiwiZGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwic2V0SG91cnMiLCJnZXRIb3VycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/news/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/formdata-node","vendor-chunks/axios","vendor-chunks/@anthropic-ai","vendor-chunks/form-data-encoder","vendor-chunks/asynckit","vendor-chunks/node-fetch","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/debug","vendor-chunks/agentkeepalive","vendor-chunks/get-proto","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/web-streams-polyfill","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/humanize-ms","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/get-intrinsic","vendor-chunks/event-target-shim","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fnews%2Froute&page=%2Fapi%2Fnews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnews%2Froute.ts&appDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fananthkumara%2FCS%2Fanthropic-wics&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();